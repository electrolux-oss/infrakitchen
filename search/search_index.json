{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"InfraKitchen","text":""},{"location":"architecture/","title":"Architecture","text":""},{"location":"architecture/#architecture","title":"Architecture","text":"<p>This page provides an overview of InfraKitchen's system architecture and how the components work together.</p>"},{"location":"architecture/#high-level-architecture","title":"\ud83c\udfd7\ufe0f High-Level Architecture","text":"<p>InfraKitchen follows a modern web application architecture with separated frontend, backend, and infrastructure layers.</p> <p></p>"},{"location":"architecture/#components","title":"Components","text":"<ul> <li>Frontend (React/TypeScript) - User interface for managing infrastructure</li> <li>Backend (Python/FastAPI) - REST API and business logic</li> <li>PostgreSQL - Relational database for storing infrastructure state</li> <li>RabbitMQ - Message broker for asynchronous task processing</li> <li>Worker Processes - Execute infrastructure provisioning tasks</li> <li>OpenTofu/Terraform - Infrastructure-as-Code execution engine</li> </ul>"},{"location":"architecture/#request-flow","title":"\ud83d\udd04 Request Flow","text":""},{"location":"architecture/#1-user-creates-a-resource","title":"1. User Creates a Resource","text":"<pre><code>sequenceDiagram\n    participant User\n    participant Frontend\n    participant Backend\n    participant Database\n    participant RabbitMQ\n\n    User-&gt;&gt;Frontend: Fill resource form\n    Frontend-&gt;&gt;Backend: POST /api/v1/resources\n    Backend-&gt;&gt;Database: Create resource record\n    Backend-&gt;&gt;Frontend: Return resource (state: provision)\n    Frontend-&gt;&gt;User: Show resource created</code></pre>"},{"location":"architecture/#2-user-provisions-the-resource","title":"2. User Provisions the Resource","text":"<pre><code>sequenceDiagram\n    participant User\n    participant Frontend\n    participant Backend\n    participant RabbitMQ\n    participant Worker\n    participant OpenTofu\n    participant Cloud\n\n    User-&gt;&gt;Frontend: Click \"Provision\"\n    Frontend-&gt;&gt;Backend: POST /api/v1/resources/{id}/provision\n    Backend-&gt;&gt;RabbitMQ: Queue provisioning task\n    Backend-&gt;&gt;Frontend: Return task queued\n\n    Worker-&gt;&gt;RabbitMQ: Pick up task\n    Worker-&gt;&gt;OpenTofu: Execute tofu apply\n    OpenTofu-&gt;&gt;Cloud: Create infrastructure\n    Cloud-&gt;&gt;OpenTofu: Return outputs\n    OpenTofu-&gt;&gt;Worker: Apply complete\n    Worker-&gt;&gt;Backend: Update resource (state: provisioned)\n    Backend-&gt;&gt;Frontend: WebSocket update\n    Frontend-&gt;&gt;User: Show provisioned</code></pre>"},{"location":"architecture/#backend-module-relations","title":"\ud83e\udde9 Backend Module Relations","text":"<p>InfraKitchen's backend is organized into distinct modules with clear responsibilities:</p> <p></p>"},{"location":"architecture/#module-structure","title":"Module Structure","text":"Text Only<pre><code>server/src/\n\u251c\u2500\u2500 application/          # Application layer\n\u2502   \u251c\u2500\u2500 resources/       # Resource management\n\u2502   \u251c\u2500\u2500 templates/       # Template management\n\u2502   \u251c\u2500\u2500 integrations/    # Integration management\n\u2502   \u251c\u2500\u2500 workspaces/      # Workspace sync\n\u2502   \u2514\u2500\u2500 ...\n\u251c\u2500\u2500 core/                # Core utilities\n\u2502   \u251c\u2500\u2500 adapters/        # External service adapters\n\u2502   \u251c\u2500\u2500 config.py        # Configuration\n\u2502   \u251c\u2500\u2500 database.py      # Database connection\n\u2502   \u2514\u2500\u2500 errors.py        # Custom exceptions\n\u2502   \u2514\u2500\u2500 ...\n\u2514\u2500\u2500 fixtures/            # Demo data\n</code></pre>"},{"location":"architecture/#key-layers","title":"Key Layers","text":"<ol> <li> <p>View Layer (<code>*_view.py</code>)</p> <ul> <li>FastAPI route handlers</li> <li>Request/response validation</li> <li>Authentication/authorization</li> </ul> </li> <li> <p>Service Layer (<code>*_service.py</code>)</p> <ul> <li>Business logic</li> <li>Orchestration between modules</li> <li>Transaction management</li> </ul> </li> <li> <p>CRUD Layer (<code>*_crud.py</code>)</p> <ul> <li>Database operations</li> <li>Query building</li> <li>Data access patterns</li> </ul> </li> <li> <p>Task Layer (<code>*_task.py</code>)</p> <ul> <li>Asynchronous operations</li> <li>Long-running processes</li> <li>Background jobs</li> </ul> </li> <li> <p>Model Layer (<code>*_model.py</code>)</p> <ul> <li>SQLAlchemy ORM models</li> <li>Pydantic schemas</li> <li>Data structures</li> </ul> </li> </ol>"},{"location":"architecture/#security-architecture","title":"\ud83d\udd10 Security Architecture","text":""},{"location":"architecture/#authentication-flow","title":"Authentication Flow","text":"<pre><code>flowchart LR\n    User[User] --&gt;|Login| OAuth[OAuth Provider]\n    OAuth --&gt;|Token| Backend[Backend API]\n    Backend --&gt;|JWT| User\n    User --&gt;|JWT in Header| Backend</code></pre> <p>Supported Methods:</p> <ul> <li>OAuth 2.0 (GitHub, Microsoft)</li> <li>Backstage integration</li> <li>Service accounts (API tokens)</li> <li>Guest access (development)</li> </ul>"},{"location":"architecture/#secrets-management","title":"Secrets Management","text":"<ul> <li>Encryption at Rest - Integration credentials encrypted using Fernet</li> <li>Environment Variables - Runtime credentials via env vars</li> <li>No Secrets in Logs - Sensitive data masked</li> <li>Audit Trail - All changes logged</li> </ul>"},{"location":"architecture/#state-machine","title":"\ud83d\udd04 State Machine","text":"<p>Resources follow a strict state machine to ensure consistency.</p> <p>States:</p> State Meaning provision Created, not yet provisioned provisioned Successfully provisioned destroy Marked for destruction destroyed Successfully destroyed <p>Statuses:</p> Status Meaning ready Ready for next operation queued Waiting in execution queue in_progress Currently executing done Successfully completed error Failed with error approval_pending Awaiting owner approval pending Waiting for prerequisite rejected Approval was rejected unknown Status cannot be determined"},{"location":"faq/","title":"FAQ","text":""},{"location":"faq/#frequently-asked-questions-faq","title":"Frequently Asked Questions (FAQ)","text":"<p>Find answers to common questions about InfraKitchen.</p>"},{"location":"faq/#general-questions","title":"\ud83c\udfe2 General Questions","text":""},{"location":"faq/#what-is-infrakitchen","title":"What is InfraKitchen?","text":"<p>InfraKitchen is a self-service infrastructure provisioning platform that enables developers to create and manage cloud resources without deep knowledge of Infrastructure-as-Code tools. Platform engineers define reusable templates, and developers use them through a guided interface.</p>"},{"location":"faq/#how-is-infrakitchen-different-from-terraformopentofu","title":"How is InfraKitchen different from Terraform/OpenTofu?","text":"InfraKitchen Terraform/OpenTofu GUI-based workflow CLI-based Dynamic forms for variables Manual variable files Built-in state management Manual backend configuration Audit logs and history Limited tracking Template catalog Module registry Pull request automation Manual Git workflows RBAC and approvals No built-in access control <p>Think of InfraKitchen as a layer on top of Terraform/OpenTofu that makes it more accessible and manageable.</p>"},{"location":"faq/#who-should-use-infrakitchen","title":"Who should use InfraKitchen?","text":"<p>Platform Engineers:</p> <ul> <li>Define infrastructure standards</li> <li>Create reusable templates</li> <li>Manage cloud integrations</li> <li>Enforce governance and compliance</li> </ul> <p>Developers:</p> <ul> <li>Provision infrastructure on-demand</li> <li>Update resources safely</li> <li>View infrastructure outputs</li> <li>No IaC expertise required</li> </ul> <p>DevOps Teams:</p> <ul> <li>Audit infrastructure changes</li> <li>Review pull requests</li> <li>Monitor provisioning operations</li> <li>Manage resource lifecycle</li> </ul>"},{"location":"faq/#what-cloud-providers-does-infrakitchen-support","title":"What cloud providers does InfraKitchen support?","text":"<p>Currently supported:</p> <ul> <li>\u2705 Amazon Web Services (AWS)</li> <li>\u2705 Microsoft Azure</li> <li>\u2705 Google Cloud Platform (GCP)</li> <li>\u2705 MongoDB Atlas</li> <li>\u2705 Datadog</li> </ul> <p>Infrastructure as Code support:</p> <ul> <li>\u2705 OpenTofu</li> </ul>"},{"location":"faq/#is-infrakitchen-open-source","title":"Is InfraKitchen open source?","text":"<p>Yes! InfraKitchen is licensed under Apache 2.0. You can find the source code on GitHub.</p>"},{"location":"faq/#can-i-use-infrakitchen-with-existing-terraform-modules","title":"Can I use InfraKitchen with existing Terraform modules?","text":"<p>Absolutely! InfraKitchen works with standard Terraform/OpenTofu modules. Simply register your Git repository containing modules, and InfraKitchen will automatically analyze variables and outputs.</p>"},{"location":"faq/#technical-questions","title":"\ud83d\udd27 Technical Questions","text":""},{"location":"faq/#how-does-infrakitchen-store-terraform-state","title":"How does InfraKitchen store Terraform state?","text":"<p>InfraKitchen supports standard Terraform backend configurations:</p> <ul> <li>AWS S3 with DynamoDB locking</li> <li>Azure Storage with blob storage</li> <li>GCP Storage with GCS buckets</li> </ul> <p>State files are stored in your configured backend, not in InfraKitchen itself. This ensures compatibility with existing Terraform workflows.</p>"},{"location":"faq/#can-i-import-existing-infrastructure-into-infrakitchen","title":"Can I import existing infrastructure into InfraKitchen?","text":"<p>Yes, but with some manual steps:</p> <ol> <li>Create a resource in InfraKitchen with matching configuration</li> <li>Use Terraform import to import existing infrastructure into the state</li> <li>Run a dry run to verify configuration matches</li> </ol> <p>Best Practice</p> <p>It's easier to start fresh with new infrastructure. Only import existing resources if absolutely necessary.</p>"},{"location":"faq/#how-does-variable-inheritance-work","title":"How does variable inheritance work?","text":"<p>Child resources can automatically reference parent resource outputs:</p> YAML<pre><code># Parent VPC outputs\nvpc_id: vpc-abc123\nsubnet_ids: [subnet-111, subnet-222]\n\n# Child RDS resource automatically gets\nvpc_id: vpc-abc123 (from parent VPC)\nsubnet_ids: [subnet-111, subnet-222] (from parent VPC)\n</code></pre> <p>This is configured in the Source Code Version variable configurations.</p>"},{"location":"faq/#what-happens-if-provisioning-fails","title":"What happens if provisioning fails?","text":"<ol> <li>Resource state remains <code>provision</code></li> <li>Status changes to <code>error</code></li> <li>Error details are logged</li> <li>You can review logs to diagnose the issue</li> <li>Fix the problem (update variables, fix integration, etc.)</li> <li>Click Retry to attempt again</li> </ol>"},{"location":"faq/#can-i-run-infrakitchen-commands-from-cli","title":"Can I run InfraKitchen commands from CLI?","text":"<p>InfraKitchen primarily uses a web UI. However, you can:</p> <ul> <li>Use the REST API for automation</li> <li>Integrate with CI/CD pipelines</li> <li>Use the MCP Server for AI agent integration</li> <li>Access generated code in workspace repositories</li> </ul>"},{"location":"faq/#how-are-credentials-secured","title":"How are credentials secured?","text":"<p>InfraKitchen uses multiple security layers:</p> <ul> <li>At Rest: Credentials encrypted in database</li> <li>In Transit: HTTPS/TLS for all communications</li> <li>In Memory: Credentials only decrypted when needed</li> <li>Access Control: RBAC limits who can view/use integrations</li> <li>Audit: All credential access is logged</li> </ul>"},{"location":"faq/#does-infrakitchen-support-drift-detection","title":"Does InfraKitchen support drift detection?","text":"<p>Not currently. Drift detection between InfraKitchen resources and actual cloud state is on the roadmap. For now:</p> <ul> <li>Use cloud provider drift detection tools</li> <li>Run dry runs to see planned changes</li> <li>Review execution logs for unexpected modifications</li> </ul>"},{"location":"faq/#usage-questions","title":"\ud83d\ude80 Usage Questions","text":""},{"location":"faq/#how-do-i-know-which-template-to-use","title":"How do I know which template to use?","text":"<ol> <li>Check template description - Explains what it does</li> <li>View parent/child relationships - Understand dependencies</li> <li>Look at existing resources - See how others used it</li> <li>Ask your platform team - They defined the templates</li> <li>Read documentation - Check internal wiki or docs</li> </ol>"},{"location":"faq/#why-cant-i-change-certain-variables","title":"Why can't I change certain variables?","text":"<p>Some variables are marked as \"frozen\" or \"immutable\" because:</p> <ul> <li>The underlying cloud resource cannot be modified in-place</li> <li>Changing them would require resource recreation</li> <li>They're inherited from parent resources</li> <li>Platform team locked them for compliance</li> </ul> <p>Examples: VPC CIDR blocks, RDS engine type, storage account name</p>"},{"location":"faq/#whats-the-difference-between-state-and-status","title":"What's the difference between State and Status?","text":"<p>State represents the resource lifecycle:</p> <ul> <li><code>provision</code> - Not yet created</li> <li><code>provisioned</code> - Created and running</li> <li><code>destroy</code> - Marked for deletion</li> <li><code>destroyed</code> - Removed</li> </ul> <p>Status represents the current operation:</p> <ul> <li><code>ready</code> - Ready for action</li> <li><code>in_progress</code> - Currently executing</li> <li><code>done</code> - Operation completed</li> <li><code>error</code> - Operation failed</li> </ul>"},{"location":"faq/#how-long-does-provisioning-take","title":"How long does provisioning take?","text":"<p>It varies by resource type:</p> Resource Type Typical Time S3 Bucket 30 seconds VPC 1-2 minutes Lambda Function 1-2 minutes RDS Database 10-20 minutes EKS Cluster 15-30 minutes Azure AKS 10-20 minutes <p>Large resources with many components take longer.</p>"},{"location":"faq/#can-i-provision-multiple-resources-simultaneously","title":"Can I provision multiple resources simultaneously?","text":"<p>Yes! InfraKitchen processes resources in parallel when possible. However:</p> <ul> <li>Parent resources must complete before children</li> <li>Dependent resources wait for their dependencies</li> <li>Each resource runs in an isolated environment</li> </ul>"},{"location":"faq/#why-is-my-resource-waiting-for-approval","title":"Why is my resource waiting for approval?","text":"<p>Your organization may have approval workflows enabled:</p> <ul> <li>Production resources - Require senior engineer approval</li> <li>Costly resources - Need budget owner approval</li> <li>Security-sensitive - Need security team review</li> </ul> <p>Check with your platform team about approval policies.</p>"},{"location":"faq/#how-do-i-rollback-a-failed-update","title":"How do I rollback a failed update?","text":"<p>InfraKitchen doesn't have automatic rollback, but you can:</p> <ol> <li>Edit resource variables back to previous values</li> <li>Perform dry run to verify changes</li> <li>Apply the update</li> </ol> <p>For critical situations:</p> <ul> <li>Use cloud provider console to manual rollback</li> <li>Destroy and recreate resource</li> <li>Restore from backup (for stateful resources)</li> </ul>"},{"location":"faq/#workspace-questions","title":"\ud83d\udd00 Workspace Questions","text":""},{"location":"faq/#what-is-a-workspace","title":"What is a Workspace?","text":"<p>A Workspace is a Git repository where InfraKitchen syncs generated infrastructure code for your resources.</p>"},{"location":"faq/#why-use-workspaces","title":"Why use Workspaces?","text":"<p>Benefits:</p> <ul> <li>Review - Team reviews infrastructure changes</li> <li>Audit - Git history tracks all modifications</li> <li>Backup - Code stored in version control</li> <li>Portability - Can run Terraform outside InfraKitchen</li> <li>CI/CD - Integrate with existing pipelines</li> </ul>"},{"location":"faq/#do-i-need-to-approve-pull-requests","title":"Do I need to approve Pull Requests?","text":"<p>It depends on your workflow:</p> <p>Manual Approval:</p> <ul> <li>Review PR in Git provider</li> <li>Approve and merge manually</li> </ul> <p>Auto-Approval:</p> <ul> <li>Click \"Approve\" in InfraKitchen</li> <li>InfraKitchen auto-merges PR</li> <li>Code lands in default branch</li> </ul> <p>No Workspace:</p> <ul> <li>Skip PR workflow entirely</li> <li>Code not synced to Git</li> </ul>"},{"location":"faq/#what-if-pr-conflicts-with-main-branch","title":"What if PR conflicts with main branch?","text":"<p>Resolve conflicts:</p> <ol> <li>Navigate to workspace repository</li> <li>Pull both branches locally</li> <li>Resolve merge conflicts</li> <li>Push resolution</li> <li>Merge PR</li> </ol> <p>Or:</p> <ul> <li>Delete the branch and recreate resource</li> <li>This generates a fresh PR</li> </ul>"},{"location":"faq/#can-i-edit-workspace-code-directly","title":"Can I edit workspace code directly?","text":"<p>You can, but be careful:</p> <p>\u2705 Safe edits:</p> <ul> <li>Update README or documentation</li> <li>Add additional modules</li> <li>Modify resource tags</li> </ul> <p>\u274c Dangerous edits:</p> <ul> <li>Change variable values (creates drift)</li> <li>Modify backend configuration</li> <li>Remove InfraKitchen-generated files</li> </ul> <p>Risk of Drift</p> <p>Manual edits to resource code can cause drift between InfraKitchen and actual infrastructure.</p>"},{"location":"faq/#troubleshooting","title":"\ud83d\udee0\ufe0f Troubleshooting","text":""},{"location":"faq/#resource-stuck-at-in_progress","title":"Resource stuck at \"in_progress\"","text":"<p>Possible causes:</p> <ol> <li>Long-running operation - EKS clusters take 15-20 min</li> <li>Network timeout - Check connectivity</li> <li>State lock - Another operation has locked state</li> <li>Task failure - Check execution logs</li> </ol> <p>Solutions:</p> <ul> <li>Wait if it's a long operation</li> <li>Check logs for errors</li> <li>Verify integration credentials</li> <li>Contact platform team if stuck &gt;30 min</li> </ul>"},{"location":"faq/#parent-resource-not-ready-error","title":"\"Parent resource not ready\" error","text":"<p>Cause: Parent resource is not in <code>provisioned</code> state.</p> <p>Solutions:</p> <ol> <li>Wait for parent to finish provisioning</li> <li>Check parent resource status</li> <li>Ensure parent provisioned successfully</li> <li>If parent failed, fix and provision it first</li> </ol>"},{"location":"faq/#integration-authentication-fails","title":"Integration authentication fails","text":"<p>Possible causes:</p> <ul> <li>Expired credentials</li> <li>Incorrect configuration</li> <li>Insufficient permissions</li> <li>Network connectivity issues</li> </ul> <p>Solutions:</p> <ol> <li>Test integration in InfraKitchen</li> <li>Verify credentials in cloud provider</li> <li>Check IAM role/service principal permissions</li> <li>Review audit logs for detailed errors</li> <li>Update integration with new credentials</li> </ol>"},{"location":"faq/#variables-not-appearing-in-form","title":"Variables not appearing in form","text":"<p>Cause: Source code version analysis failed or variables not defined in <code>variables.tf</code>.</p> <p>Solutions:</p> <ol> <li>Verify <code>variables.tf</code> exists in module</li> <li>Check Terraform syntax is valid</li> <li>Re-analyze source code version</li> <li>Check module folder path is correct</li> <li>Review source code version logs</li> </ol>"},{"location":"faq/#dry-run-shows-unexpected-changes","title":"Dry run shows unexpected changes","text":"<p>Possible causes:</p> <ul> <li>Drift between state and actual infrastructure</li> <li>Variables changed since last apply</li> <li>Source code version updated</li> <li>Dependencies changed</li> </ul> <p>Solutions:</p> <ol> <li>Review the plan carefully</li> <li>Check if changes are intentional</li> <li>Verify variable values</li> <li>Consider running refresh-only plan</li> <li>Contact platform team if unsure</li> </ol>"},{"location":"faq/#workspace-pr-not-created","title":"Workspace PR not created","text":"<p>Possible causes:</p> <ul> <li>Workspace not configured</li> <li>Git integration lacks permissions</li> <li>Repository doesn't exist</li> <li>Branch already exists</li> <li>API rate limiting</li> </ul> <p>Solutions:</p> <ol> <li>Verify workspace is set on resource</li> <li>Check Git integration has write access</li> <li>Ensure repository exists</li> <li>Delete existing branch if conflict</li> <li>Check workspace sync logs</li> </ol>"},{"location":"faq/#state-lock-error","title":"\"State lock\" error","text":"<p>Cause: Another operation is using the Terraform state.</p> <p>Solutions:</p> <ol> <li>Wait for other operation to complete</li> <li>Check if another resource is provisioning</li> <li>Verify no manual Terraform operations running</li> <li>Force-unlock state (last resort, dangerous)</li> <li>Contact platform team</li> </ol>"},{"location":"faq/#security-questions","title":"\ud83d\udd12 Security Questions","text":""},{"location":"faq/#how-are-secrets-managed","title":"How are secrets managed?","text":"<p>InfraKitchen:</p> <ul> <li>Encrypts secrets at rest in database</li> <li>Uses HTTPS/TLS for all communication</li> <li>Never logs sensitive values</li> <li>Masks secrets in UI and logs</li> <li>Supports integration with HashiCorp Vault</li> </ul>"},{"location":"faq/#who-can-see-my-resources","title":"Who can see my resources?","text":"<p>Access control is role-based:</p> <ul> <li>Creators - Full access to their resources</li> <li>Team members - Access based on team membership</li> <li>Admins - Access to all resources</li> <li>Viewers - Read-only access</li> </ul> <p>Check with your platform team about specific policies.</p>"},{"location":"faq/#can-i-restrict-certain-templates","title":"Can I restrict certain templates?","text":"<p>Yes! Platform engineers can:</p> <ul> <li>Disable templates (make unavailable)</li> <li>Set RBAC policies per template</li> <li>Require approvals for certain templates</li> <li>Limit templates to specific teams</li> </ul>"},{"location":"faq/#are-audit-logs-available","title":"Are audit logs available?","text":"<p>Yes! InfraKitchen logs:</p> <ul> <li>Resource creation/updates/destruction</li> <li>User actions and timestamps</li> <li>Integration usage</li> <li>Variable changes</li> <li>Approval decisions</li> <li>Workspace sync operations</li> </ul> <p>Logs are searchable and exportable.</p>"},{"location":"faq/#cost-questions","title":"\ud83d\udcb0 Cost Questions","text":""},{"location":"faq/#how-much-does-infrakitchen-cost","title":"How much does InfraKitchen cost?","text":"<p>InfraKitchen itself is open source and free. You pay for:</p> <ul> <li>Cloud infrastructure InfraKitchen provisions</li> <li>Compute resources to run InfraKitchen</li> <li>Storage for Terraform state</li> <li>Git repository hosting (if using private repos)</li> </ul>"},{"location":"faq/#can-infrakitchen-help-reduce-costs","title":"Can InfraKitchen help reduce costs?","text":"<p>Yes, in several ways:</p> <ul> <li>Lifecycle management - Easy to destroy unused resources</li> <li>Templated configurations - Right-sizing enforced by platform team</li> <li>Audit trail - Track resource usage and owners</li> <li>Tag enforcement - Better cost allocation</li> <li>Visibility - See all resources in one place</li> </ul>"},{"location":"faq/#how-do-i-track-resource-costs","title":"How do I track resource costs?","text":"<ul> <li>Use labels to tag resources with cost centers</li> <li>Export resource list with tags</li> <li>Use cloud provider cost allocation tags</li> <li>Set up cloud cost management tools</li> <li>Review resources periodically</li> </ul>"},{"location":"faq/#learning-and-support","title":"\ud83c\udf93 Learning and Support","text":""},{"location":"faq/#where-can-i-learn-more","title":"Where can I learn more?","text":"<ul> <li>Documentation: InfraKitchen Docs</li> <li>Guides: Platform Engineer Guide | Developer Guide</li> <li>Discord: Community Server</li> <li>GitHub: Source Code &amp; Issues</li> </ul>"},{"location":"faq/#can-i-request-features","title":"Can I request features?","text":"<p>Absolutely!</p> <ol> <li>Check GitHub Issues for existing requests</li> <li>Create a new feature request issue</li> <li>Discuss in Discord community</li> <li>Consider contributing the feature yourself</li> </ol>"},{"location":"faq/#how-do-i-get-support","title":"How do I get support?","text":"<p>Community Support:</p> <ul> <li>Discord server for quick questions</li> <li>GitHub Issues for bug reports</li> <li>Documentation and guides</li> </ul> <p>Enterprise Support:</p> <ul> <li>Contact your platform engineering team</li> <li>Check internal documentation</li> <li>Company-specific support channels</li> </ul>"},{"location":"faq/#limitations-and-constraints","title":"\ud83d\udea6 Limitations and Constraints","text":""},{"location":"faq/#what-are-current-limitations","title":"What are current limitations?","text":"<ul> <li>Drift Detection: Not implemented yet</li> <li>Multi-Region: Each region needs separate resources</li> <li>Blueprints: Coming soon</li> <li>Custom Providers: OpenTofu/Terraform only</li> <li>Real-time Collaboration: Single user edits at a time</li> </ul>"},{"location":"faq/#supported-opentofu-versions","title":"Supported OpenTofu versions?","text":"<ul> <li>OpenTofu <code>1.10+</code></li> </ul>"},{"location":"faq/#still-have-questions","title":"\u2753 Still Have Questions?","text":"<p>Can't find what you're looking for?</p> <ul> <li>\ud83d\udcac Ask in Discord</li> <li>\ud83d\udc1b Open an Issue</li> <li>\ud83d\udce7 Contact your platform engineering team</li> <li>\ud83d\udcd6 Check the full documentation</li> </ul> <p>We're here to help! \ud83c\udf89</p>"},{"location":"core-concepts/overview/","title":"Overview","text":""},{"location":"core-concepts/overview/#core-concepts","title":"Core Concepts","text":"<p>InfraKitchen introduces several key concepts that work together to enable self-service infrastructure provisioning. This page explains each concept and how they relate to each other.</p>"},{"location":"core-concepts/overview/#integration","title":"\ud83d\udd0c Integration","text":"<p>An Integration stores the credentials and configuration needed to connect to external systems.</p>"},{"location":"core-concepts/overview/#types-of-integrations","title":"Types of Integrations","text":"<ul> <li> <p>Cloud Providers: AWS, Azure, Google Cloud, MongoDB Atlas, Datadog</p> </li> <li> <p>Git Providers: GitHub, Bitbucket, Azure DevOps</p> </li> <li> <p>Auth Providers: GitHub OAuth, Microsoft OAuth, Backstage integration, Service Accounts</p> </li> </ul> <p>Learn more: Integrations Documentation</p>"},{"location":"core-concepts/overview/#template","title":"\ud83d\udcdd Template","text":"<p>A Template defines a logical unit of infrastructure. Templates are organized hierarchically and represent components like AWS Accounts, VPCs, EKS Clusters, or RDS databases.</p>"},{"location":"core-concepts/overview/#template-hierarchy-example","title":"Template Hierarchy Example","text":"Text Only<pre><code>AWS Account (abstract)\n\u251c\u2500\u2500 AWS Region (abstract)\n\u2502   \u251c\u2500\u2500 VPC (concrete)\n\u2502   \u2502   \u251c\u2500\u2500 EKS Cluster (concrete)\n\u2502   \u2502   \u251c\u2500\u2500 RDS Database (concrete)\n\u2502   \u2502   \u2514\u2500\u2500 Application Load Balancer (concrete)\n\u2502   \u2514\u2500\u2500 S3 Bucket (concrete)\n</code></pre> <p>Learn more: Templates Documentation</p>"},{"location":"core-concepts/overview/#source-code","title":"\ud83d\udce6 Source Code","text":"<p>InfraKitchen embraces Infrastructure-as-Code (IaC). Source Code refers to a Git repository containing Terraform/OpenTofu modules.</p>"},{"location":"core-concepts/overview/#source-code-components","title":"Source Code Components","text":"<ol> <li>Repository URL - Where the IaC code is stored</li> <li>Git Provider Integration - Credentials to access the repository</li> <li>Multiple Modules - One repository can contain multiple infrastructure modules</li> </ol> <p>Example:</p> Text Only<pre><code>Repository: github.com/myorg/terraform-modules\n\u251c\u2500\u2500 aws-vpc/\n\u251c\u2500\u2500 aws-eks/\n\u2514\u2500\u2500 aws-rds/\n</code></pre>"},{"location":"core-concepts/overview/#executor","title":"\u2699\ufe0f Executor","text":"<p>An Executor is a specialized component for running infrastructure modules that perform specific, non-reusable tasks.</p>"},{"location":"core-concepts/overview/#use-cases","title":"Use Cases","text":"<p>Unlike Templates that define reusable infrastructure patterns, Executors are designed for:</p> <ul> <li>One-time operations - Database migrations, data imports, cleanup tasks</li> <li>Specialized workflows - Custom scripts that don't fit the template model</li> <li>Utility tasks - Infrastructure operations that aren't meant to be templated</li> </ul>"},{"location":"core-concepts/overview/#executor-properties","title":"Executor Properties","text":"YAML<pre><code>ID: exec-xyz789\nName: database-migration-v2\nRuntime: opentofu\nCommand: -var-file=environments/dev/eu-west-1.tfvars\nSource Code: github.com/myorg/utility-scripts\nVersion: v2.1.0\nModule Path: migrations/database-v2/\n\nIntegrations:\n  - AWS Production Account\n  - Database Credentials\n\nState: provisioned\nStatus: done\n</code></pre>"},{"location":"core-concepts/overview/#key-differences-from-resources","title":"Key Differences from Resources","text":"<ul> <li>Not templated - Executors run specific modules directly</li> <li>Task-oriented - Designed for single-purpose operations</li> <li>No hierarchy - Executors don't follow parent-child relationships</li> </ul>"},{"location":"core-concepts/overview/#resource","title":"\ud83d\udce6 Resource","text":"<p>A Resource is an actual instance of infrastructure, created from a Template and Source Code Version.</p>"},{"location":"core-concepts/overview/#resource-properties","title":"Resource Properties","text":"YAML<pre><code>ID: res-abc123\nName: production-vpc-us-east-1\nTemplate: Production VPC\nParent Resource: aws-account-prod\nSource Code Version: v1.2.0\nState: provisioned\nStatus: done\n\nVariables:\n  vpc_name: 'production-vpc'\n  cidr_block: '10.0.0.0/16'\n\nOutputs:\n  vpc_id: 'vpc-0123456789'\n  availability_zones: ['us-east-1a', 'us-east-1b']\n</code></pre> <p>Learn more: Resources Documentation</p>"},{"location":"core-concepts/overview/#workspace","title":"\ud83d\udcbc Workspace","text":"<p>A Workspace is a Git repository where InfraKitchen can automatically sync generated Terraform code.</p>"},{"location":"core-concepts/overview/#structure","title":"Structure","text":"Text Only<pre><code>workspace-repo/\n\u251c\u2500\u2500 production-vpc/\n\u2502   \u251c\u2500\u2500 main.tf\n\u2502   \u251c\u2500\u2500 variables.tf\n\u2502   \u2514\u2500\u2500 outputs.tf\n\u251c\u2500\u2500 production-eks/\n\u2502   \u251c\u2500\u2500 main.tf\n\u2502   \u251c\u2500\u2500 variables.tf\n\u2502   \u2514\u2500\u2500 outputs.tf\n</code></pre> <p>Learn more: Workspaces Documentation</p>"},{"location":"core-concepts/blueprints/overview/","title":"Overview","text":""},{"location":"core-concepts/executors/overview/","title":"Executors","text":""},{"location":"core-concepts/executors/overview/#executors","title":"Executors","text":"<p>In InfraKitchen, Executors are specialized components designed to run infrastructure modules that perform specific, non-reusable tasks. Unlike Resources which are instances of reusable Templates, Executors are purpose-built for one-time operations, utility tasks, and custom workflows that don't fit the template model.</p> <p>Executors are the utility tools in your infrastructure kitchen - they handle specialized tasks like database migrations, data imports, cleanup operations, and custom scripts that you need to run but don't want to turn into reusable templates.</p> <p>An executor combines:</p> <ul> <li>Source code (what to run)</li> <li>Runtime (how to execute it - OpenTofu/Terraform)</li> <li>Command Arguments (specific instructions for execution)</li> <li>Integrations (credentials for cloud access)</li> <li>Secrets (sensitive data needed for execution)</li> <li>Storage (for state management)</li> </ul> <p>Once executed, executors perform their designated task and maintain their state for tracking and audit purposes.</p>"},{"location":"core-concepts/executors/overview/#executor-lifecycle","title":"\u267b\ufe0f Executor Lifecycle","text":"<p>Executors move through these stages: Create \u2192 Provision \u2192 Destroy \u2192 Delete.</p> <p>States: <code>provision</code> \u2192 <code>provisioned</code> \u2192 <code>destroy</code> \u2192 <code>destroyed</code></p> <p>Statuses: <code>ready</code>, <code>queued</code>, <code>in_progress</code>, <code>done</code>, <code>error</code>, <code>pending</code>, <code>unknown</code></p> <p>Unlike resources, executors are typically task-oriented and may be destroyed after completing their purpose.</p>"},{"location":"core-concepts/executors/overview/#executor-properties","title":"\ud83d\udccb Executor Properties","text":"<p>Each executor in InfraKitchen contains the following core properties:</p> Property Description Notes Name Unique identifier for the executor Must be unique Description Detailed information about the executor's task Markdown supported Runtime Execution environment Currently supports <code>opentofu</code> Command Arguments Arguments to main script E.g., <code>-var-file=environments/dev/eu-west-1.tfvars</code> Source Code Git repository containing the module Required Source Code Version Specific tag/release to use Either version or branch required Source Code Branch Specific branch to use Either version or branch required Source Code Folder Path to module within repository Defaults to root State Lifecycle state <code>provision</code>, <code>provisioned</code>, <code>destroy</code> Status Current operation status <code>queued</code>, <code>in_progress</code>, <code>done</code>, <code>error</code> Cloud Integrations Cloud provider credentials Optional, as needed for task Secrets Sensitive data for execution Database passwords, API keys, etc. Storage Backend for Terraform/OpenTofu state S3, Azure Blob, GCS, etc. Storage Path Path to state file in storage Auto-generated or custom Labels Tags for organizing and filtering E.g., <code>migration</code>, <code>cleanup</code>, <code>one-time</code> Revision Number Version tracking for executor changes Auto-incremented on updates Creator User who created the executor Used for permissions and audit"},{"location":"core-concepts/executors/overview/#creating-executors","title":"\u2795 Creating Executors","text":"<p>Executors are created to perform specific infrastructure tasks that don't require the reusability of templates.</p>"},{"location":"core-concepts/executors/overview/#creation-steps","title":"Creation Steps","text":"<ol> <li>Navigate to Executors in the sidebar</li> <li>Click Create</li> <li>Configure basic properties:<ul> <li>Enter unique name</li> <li>Add description explaining the task</li> <li>Select runtime (<code>opentofu</code>)</li> <li>Specify command arguments</li> </ul> </li> <li>Configure source code:<ul> <li>Select source code repository</li> <li>Choose version (tag) or branch</li> <li>Specify folder path within repository</li> </ul> </li> <li>Configure execution context:<ul> <li>Select cloud integration(s) if needed</li> <li>Select secrets if needed for sensitive data</li> <li>Select storage backend for state management</li> <li>Specify storage path</li> </ul> </li> <li>Add labels for organization</li> <li>Click Save</li> </ol> <p>When to Use Executors</p> <p>Use executors for:</p> <ul> <li>Database migrations - One-time schema updates</li> <li>Data imports/exports - Bulk data operations</li> <li>Cleanup tasks - Resource decommissioning</li> <li>Custom scripts - Specialized automation</li> <li>Utility operations - Tasks that don't fit templates</li> </ul> <p>Use Resources/Templates for:</p> <ul> <li>Reusable infrastructure patterns</li> <li>Long-lived infrastructure</li> <li>Hierarchical resource management</li> </ul>"},{"location":"core-concepts/executors/overview/#managing-executors","title":"\ud83d\udd27 Managing Executors","text":"<p>Executors support various lifecycle actions based on their current state.</p> Action When Available Description Provision State: <code>provision</code> Execute the infrastructure task Dry Run Before provisioning Preview changes without applying Update State: <code>provisioned</code> Modify executor configuration Destroy State: <code>provisioned</code> Clean up infrastructure created by executor Delete State: <code>destroyed</code> Permanently remove executor <p>State Management</p> <p>Even for one-time tasks, executors maintain Terraform/OpenTofu state. This ensures proper cleanup and tracking of any infrastructure modifications made during execution.</p>"},{"location":"core-concepts/executors/overview/#executor-integrations","title":"\ud83d\udd10 Executor Integrations","text":"<p>Executors can be associated with multiple integrations to access various cloud providers and services.</p>"},{"location":"core-concepts/executors/overview/#integration-types","title":"Integration Types","text":"<ul> <li>Cloud Providers: AWS, Azure, GCP, MongoDB Atlas, Datadog</li> <li>Required for: Accessing cloud resources during execution</li> <li>Multiple integrations: Can use several at once if task spans multiple clouds</li> </ul> <p>Example:</p> YAML<pre><code>Executor: database-migration-prod\nIntegrations:\n  - AWS Production Account (for RDS access)\n  - MongoDB Atlas Production (for data migration)\n</code></pre> <p>Learn more about Cloud Integrations.</p>"},{"location":"core-concepts/executors/overview/#executor-secrets","title":"\ud83d\udd12 Executor Secrets","text":"<p>Secrets provide secure access to sensitive data needed during execution.</p>"},{"location":"core-concepts/executors/overview/#secret-usage","title":"Secret Usage","text":"<ul> <li>Database credentials - Connection strings, passwords</li> <li>API keys - Third-party service authentication</li> <li>Certificates - SSL/TLS certificates</li> <li>Tokens - Access tokens, refresh tokens</li> </ul> <p>Example:</p> YAML<pre><code>Executor: data-export-task\nSecrets:\n  - database-master-password\n  - api-service-key\n  - s3-upload-credentials\n</code></pre> <p>Secrets are securely injected into the execution environment as environment variables.</p> <p>Learn more about Secrets Management.</p>"},{"location":"core-concepts/executors/overview/#executor-storage","title":"\ud83d\udcbe Executor Storage","text":"<p>Executors require storage backends to persist Terraform/OpenTofu state.</p>"},{"location":"core-concepts/executors/overview/#supported-storage-backends","title":"Supported Storage Backends","text":"<ul> <li>AWS S3 - With DynamoDB for state locking</li> <li>Azure Blob Storage - With blob leases for locking</li> <li>Google Cloud Storage - With native locking</li> </ul>"},{"location":"core-concepts/executors/overview/#storage-path","title":"Storage Path","text":"<p>Each executor uses a unique storage path to isolate its state from other executors and resources:</p> Text Only<pre><code>&lt;storage-bucket&gt;/executors/&lt;executor-name&gt;/terraform.tfstate\n</code></pre> <p>This ensures executors can be safely executed in parallel without state conflicts.</p>"},{"location":"core-concepts/executors/overview/#executors-vs-resources","title":"\ud83d\udd17 Executors vs Resources","text":"<p>Understanding when to use each:</p> Feature Executor Resource Purpose One-time/specific tasks Long-lived infrastructure Reusability Not reusable Based on reusable templates Hierarchy No parent-child relationships Follows template hierarchy Template Required No Yes Variables Defined in source code Defined in template + source code Common Uses Migrations, imports, cleanup VPCs, clusters, databases Lifecycle Often short-lived Typically long-lived <p>Decision Guide:</p> <ul> <li>\u2705 Use Executor: \"I need to run a database migration once in production\"</li> <li>\u2705 Use Resource: \"I need to provision a VPC that follows our standard template\"</li> </ul>"},{"location":"core-concepts/executors/overview/#executor-outputs","title":"\ud83d\udcca Executor Outputs","text":"<p>After successful execution, executors may produce outputs that can be:</p> <ul> <li>Viewed in the UI in logs tab</li> <li>Used for verification and audit</li> </ul>"},{"location":"core-concepts/executors/overview/#executor-permissions","title":"\ud83d\udd10 Executor Permissions","text":"<p>Executor actions are controlled by role-based access control:</p> Action Permission Required View Read access Create Read access Edit Admin access Execute Write access Destroy Admin access Delete Admin access"},{"location":"core-concepts/executors/overview/#integration-with-other-features","title":"\ud83d\udd17 Integration with Other Features","text":""},{"location":"core-concepts/executors/overview/#executors-and-source-code","title":"Executors and Source Code","text":"<p>Executors reference Git repositories containing infrastructure code:</p> <ul> <li>Must specify either a version (tag) or branch</li> <li>Can use any folder within the repository</li> <li>Support mono-repos with multiple modules</li> <li>Track source code changes via revision numbers</li> </ul>"},{"location":"core-concepts/executors/overview/#executors-and-storage","title":"Executors and Storage","text":"<p>State management is critical for executors:</p> <ul> <li>Enables proper cleanup even for one-time tasks</li> <li>Tracks what infrastructure was modified</li> <li>Prevents conflicts with parallel executions</li> <li>Supports state rollback if needed</li> </ul>"},{"location":"core-concepts/executors/overview/#executors-and-workspaces","title":"Executors and Workspaces","text":"<p>Unlike resources, executors typically don't use workspace Git sync:</p> <ul> <li>Executor code comes directly from source code repository</li> <li>No automatic Git commits of generated Terraform</li> <li>State is stored in configured backend only</li> </ul>"},{"location":"core-concepts/executors/overview/#best-practices","title":"\ud83d\ude80 Best Practices","text":""},{"location":"core-concepts/executors/overview/#naming-conventions","title":"Naming Conventions","text":"<p>Use descriptive names that indicate purpose and context:</p> Text Only<pre><code>\u2705 Good:\n- prod-db-migration-v2-0-0\n- staging-cleanup-unused-volumes\n- monthly-cost-report-export\n\n\u274c Avoid:\n- executor-1\n- test-task\n- my-script\n</code></pre>"},{"location":"core-concepts/executors/overview/#version-management","title":"Version Management","text":"<ul> <li>Use tags for stable, tested code</li> <li>Use branches only for development/testing</li> <li>Tag executor code releases just like application releases</li> <li>Document what each version does in Git commit messages</li> </ul>"},{"location":"core-concepts/executors/overview/#security","title":"Security","text":"<ul> <li>Use secrets for ALL sensitive data</li> <li>Never hardcode credentials in executor source code</li> <li>Limit integrations to minimum required</li> <li>Audit executor executions regularly</li> <li>Use approval workflows for production tasks</li> </ul>"},{"location":"core-concepts/executors/overview/#lifecycle-management","title":"Lifecycle Management","text":"<ul> <li>Destroy executors after task completion (if one-time)</li> <li>Keep executors for recurring tasks</li> <li>Use labels to track executor status</li> <li>Document executor purpose in description</li> </ul>"},{"location":"core-concepts/executors/overview/#error-handling","title":"Error Handling","text":"<ul> <li>Always include error handling in executor code</li> <li>Use Terraform/OpenTofu best practices for retries</li> <li>Set appropriate timeouts for long-running tasks</li> <li>Monitor executor execution logs</li> <li>Have rollback procedures documented</li> </ul>"},{"location":"core-concepts/executors/overview/#related-documentation","title":"\ud83d\udcda Related Documentation","text":"<ul> <li>Core Concepts Overview</li> <li>Resources Documentation</li> <li>Integrations</li> <li>Secrets Management</li> </ul>"},{"location":"core-concepts/resources/overview/","title":"Overview","text":""},{"location":"core-concepts/resources/overview/#resources","title":"Resources","text":"<p>In InfraKitchen, Resources are concrete instances of infrastructure created from Templates using specific Source Code Versions. While templates define what can be built, resources represent actual infrastructure running in your cloud environments.</p> <p>Resources are the operational units in your infrastructure kitchen\u2014they're the actual dishes prepared from your recipes (templates), actively managed through their entire lifecycle from creation to destruction.</p> <p>A resource combines:</p> <ul> <li>A template (what to build)</li> <li>A source code version (how to build it)</li> <li>Variables (configuration values)</li> <li>Cloud integrations (credentials)</li> <li>Storage (for Terraform/OpenTofu state)</li> <li>Parent resources (dependencies)</li> </ul> <p>Once provisioned, resources run real infrastructure in your cloud accounts.</p>"},{"location":"core-concepts/resources/overview/#resource-lifecycle","title":"\u267b\ufe0f Resource Lifecycle","text":"<p>Resources move through these stages: Create \u2192 Provision \u2192 Update \u2192 Destroy \u2192 Delete.</p> <p>States: <code>provision</code> \u2192 <code>provisioned</code> \u2192 <code>destroy</code> \u2192 <code>destroyed</code></p> <p>Statuses: <code>ready</code>, <code>queued</code>, <code>in_progress</code>, <code>done</code>, <code>error</code>, <code>approval_pending</code>, <code>pending</code>, <code>rejected</code>, <code>enabled</code>, <code>disabled</code>, <code>unknown</code></p> <p>For detailed workflows and state transitions, see Resource Workflows.</p>"},{"location":"core-concepts/resources/overview/#resource-properties","title":"\ud83d\udccb Resource Properties","text":"<p>Each resource in InfraKitchen contains the following core properties:</p> Property Description Notes Name Unique identifier for the resource Must be unique per template and source code version Description Detailed information about the resource Markdown supported Template The template this resource is based on Immutable after creation Source Code Version The version of IaC code to use Can be updated to new versions State Lifecycle state <code>provision</code>, <code>provisioned</code>, <code>destroy</code>, <code>destroyed</code> Status Current operation status <code>queued</code>, <code>in_progress</code>, <code>done</code>, <code>error</code>, etc. Cloud Integrations Cloud provider credentials Required for provisioning Storage Backend for Terraform/OpenTofu state S3, Azure Blob, GCS, etc. Storage Path Path to state file in storage Immutable after creation Workspace Terraform/OpenTofu workspace Optional, for workspace isolation Variables Input variables for the infrastructure code Values for Terraform/OpenTofu variables Outputs Exported values after provisioning Available after successful provision Dependency Tags Tags inherited by cloud resources Automatically applied to provisioned infrastructure Dependency Config Configuration shared with child resources For passing values down the hierarchy Parents Resources this depends on Must match template's parent templates Children Resources that depend on this Automatically populated Labels Tags for organizing and filtering E.g., <code>production</code>, <code>us-east-1</code>, <code>team-platform</code> Abstract Whether resource is abstract Abstract resources only define hierarchy Revision Number Version tracking for resource changes Auto-incremented on updates Creator User who created the resource Used for permissions and audit"},{"location":"core-concepts/resources/overview/#creating-resources","title":"\u2795 Creating Resources","text":"<p>Resources can be created in two ways:</p>"},{"location":"core-concepts/resources/overview/#1-from-template-standard-creation","title":"1. From Template (Standard Creation)","text":"<p>The standard way to create a resource from an existing template:</p> <p>Steps:</p> <ol> <li>Navigate to Resources in the sidebar</li> <li>Click Create</li> <li>Select a template</li> <li>Configure resource properties:<ul> <li>Enter unique name</li> <li>Add description (optional)</li> <li>Select parent resources (if template has parents)</li> </ul> </li> <li>Configure dependency tags and configs (optional)</li> <li>Configure template properties:<ul> <li>Add labels</li> <li>Select cloud integration(s)</li> <li>Select workspace (optional)</li> </ul> </li> <li>Select source code version</li> <li>Configure input variables based on the selected version</li> <li>Click Save</li> </ol> <p>Parent Resources</p> <p>If your template has parent templates defined, you must select parent resources that match those parent templates. This enforces the hierarchical structure defined in your templates.</p>"},{"location":"core-concepts/resources/overview/#2-abstract-resources","title":"2. Abstract Resources","text":"<p>Abstract resources don't provision actual infrastructure\u2014they only define organizational hierarchy and share configuration with child resources:</p> <p>Steps:</p> <ol> <li>Follow standard creation steps 1-5, configure:<ul> <li>Name, description, labels</li> <li>Parent resources (if applicable)</li> <li>Dependency tags (to be inherited by children)</li> <li>Dependency configs (to populate variables in children)</li> </ul> </li> <li>Skip infrastructure settings (not required for abstract resources)</li> <li>Click Save</li> </ol> <p>Abstract Resources</p> <p>Abstract resources are ideal for:</p> <ul> <li>Creating logical groupings (e.g., \"Production Environment\")</li> <li>Establishing hierarchy without infrastructure</li> <li>Organizing resources by teams, projects, or environments</li> <li>Defining shared tags and configuration for child resources</li> </ul>"},{"location":"core-concepts/resources/overview/#managing-resources","title":"\ud83d\udd27 Managing Resources","text":"<p>Resources support various lifecycle actions based on their current state.</p> Action When Available Description Provision State: <code>provision</code> Execute infrastructure code to create resources Dry Run Before provisioning Preview changes without applying Update State: <code>provisioned</code> Modify existing infrastructure Recreate State: <code>provisioned</code> Destroy and re-provision the resource Destroy State: <code>provisioned</code> Remove infrastructure from cloud Delete State: <code>destroyed</code> Permanently remove resource from InfraKitchen Approve Status: <code>approval_pending</code> Approve pending operation (if approval enabled) Reject Status: <code>approval_pending</code> Reject pending operation <p>Workflow Details</p> <p>For step-by-step processes, state transitions, and approval flows, see the detailed workflow documentation.</p>"},{"location":"core-concepts/resources/overview/#resource-variables","title":"\ud83d\udcca Resource Variables","text":"<p>Variables are how you configure your infrastructure code.</p>"},{"location":"core-concepts/resources/overview/#variable-properties","title":"Variable Properties","text":"<ul> <li>Required: Must be provided before provisioning</li> <li>Frozen: Cannot be changed after initial provision</li> <li>Unique: Must be unique across resources with same template</li> <li>Sensitive: Masked in UI and logs</li> <li>Options: Limited to predefined choices</li> <li>Reference: Can reference outputs from parent resources</li> </ul>"},{"location":"core-concepts/resources/overview/#variable-references","title":"Variable References","text":"<p>Variables can reference outputs from parent resources:</p> YAML<pre><code># Example: Reference VPC ID from parent resource\nvariable:\n  name: vpc_id\n  type: string\n  reference:\n    resource: parent-vpc-resource-id\n    output: vpc_id\n</code></pre> <p>This creates automatic dependency chains and ensures child resources have access to parent outputs.</p>"},{"location":"core-concepts/resources/overview/#resource-outputs","title":"\ud83d\udce4 Resource Outputs","text":"<p>After successful provisioning, resources export output values that can be:</p> <ul> <li>Referenced by child resources as variable inputs</li> <li>Used in dependency configurations</li> <li>Displayed in the UI</li> <li>Retrieved via API</li> </ul> <p>Outputs are automatically extracted from Terraform/OpenTofu state files after provisioning completes.</p>"},{"location":"core-concepts/resources/overview/#dependency-management","title":"\ud83d\udd17 Dependency Management","text":"<p>InfraKitchen provides two mechanisms for sharing data between parent and child resources in a hierarchy. These can be configured on both abstract and provisioned resources.</p>"},{"location":"core-concepts/resources/overview/#dependency-tags","title":"Dependency Tags","text":"<p>Key-value pairs that can be:</p> <ul> <li>Automatically applied to all cloud resources created during provisioning</li> <li>Inherited by child resources (when <code>inherited_by_children</code> is enabled)</li> </ul> <p>Example:</p> JSON<pre><code>{\n  \"name\": \"Environment\",\n  \"value\": \"Production\",\n  \"inherited_by_children\": true\n}\n</code></pre> <p>Common uses:</p> <ul> <li>Cost allocation and billing tags</li> <li>Compliance and security tags</li> <li>Team/ownership identification</li> <li>Environment classification</li> </ul> <p>How inheritance works:</p> <ol> <li>Set tags on a parent resource (abstract or provisioned)</li> <li>Enable <code>inherited_by_children</code> flag</li> <li>All child resources automatically receive these tags</li> <li>Tags are applied to actual cloud resources during provisioning</li> </ol>"},{"location":"core-concepts/resources/overview/#dependency-configs","title":"Dependency Configs","text":"<p>Configuration key-value pairs that are automatically populated as variable values when creating child resources.</p> <p>Example:</p> JSON<pre><code>{\n  \"name\": \"vpc_cidr\",\n  \"value\": \"10.0.0.0/16\",\n  \"inherited_by_children\": true\n}\n</code></pre> <p>Common uses:</p> <ul> <li>Network configuration (CIDR blocks, subnets)</li> <li>Naming conventions and prefixes</li> <li>Shared application settings</li> <li>Regional or environment-specific values</li> </ul> <p>How inheritance works:</p> <ol> <li>Set configs on a parent resource (abstract or provisioned)</li> <li>Enable <code>inherited_by_children</code> flag</li> <li>When creating a child resource, if a variable name matches a config name, the config value is automatically used as the variable's default value</li> <li>Child resources can override inherited values if needed</li> </ol> <p>Abstract Resources for Configuration</p> <p>Abstract resources are ideal for defining dependency tags and configs at high levels in your hierarchy (e.g., Account, Environment) that cascade down to all child resources.</p> <p>Example Hierarchy:</p> Text Only<pre><code>AWS Account (abstract)\n\u251c\u2500 Dependency Tags:\n\u2502  \u2514\u2500 {name: \"BillingCode\", value: \"PROD-001\", inherited_by_children: true}\n\u251c\u2500 Dependency Configs:\n\u2502  \u2514\u2500 {name: \"aws_region\", value: \"us-east-1\", inherited_by_children: true}\n\u2502\n\u2514\u2500 AWS VPC (provisioned)\n   \u2514\u2500 Inherits: BillingCode tag + aws_region config\n</code></pre> <p>This ensures all resources under the AWS Account automatically receive consistent tags and configuration values.</p>"},{"location":"core-concepts/resources/overview/#resource-hierarchies","title":"\ud83c\udf33 Resource Hierarchies","text":"<p>Resources inherit the hierarchical structure from their templates:</p> <p>Example Hierarchy:</p> Text Only<pre><code>AWS Account (abstract)\n  \u2193\nAWS Regional Environment (abstract)\n  \u2193\nAWS VPC (provisioned)\n  \u2193\nEKS Cluster (provisioned)\n  \u2193\nKubernetes Namespace (provisioned)\n</code></pre> <p>Hierarchy Rules:</p> <ul> <li>Parent resources must match template's parent templates</li> <li>Parent resources can be in <code>provisioned</code> state (for provisioned resources) or any valid state (for abstract resources)</li> <li>Destroying provisioned parent resources requires destroying children first</li> <li>Dependency tags and configs flow down the hierarchy from both abstract and provisioned parents</li> <li>Abstract resources skip the provision/destroy steps but can still have children</li> </ul>"},{"location":"core-concepts/resources/overview/#resource-permissions","title":"\ud83d\udd10 Resource Permissions","text":"<p>Resource actions are controlled by role-based access control:</p> Action Permission Required View Read access Create Resource create permission Edit Write access Provision/Update Write access Destroy Admin access Delete Admin access Approve Owner (if approval flow) <p>Permissions can be configured at:</p> <ul> <li>Organization level</li> <li>Environment level</li> <li>Resource level (via inheritance)</li> </ul>"},{"location":"core-concepts/resources/overview/#integration-with-other-features","title":"\ud83d\udd17 Integration with Other Features","text":""},{"location":"core-concepts/resources/overview/#resources-and-templates","title":"Resources and Templates","text":"<p>Resources are instances of templates. Each resource:</p> <ul> <li>References exactly one template</li> <li>Uses a source code version associated with that template</li> <li>Inherits the template's hierarchical structure</li> <li>Can be provisioned with different variable values</li> </ul> <p>Learn more about Templates.</p>"},{"location":"core-concepts/resources/overview/#resources-and-source-code-versions","title":"Resources and Source Code Versions","text":"<p>Source code versions contain the actual infrastructure code. Resources:</p> <ul> <li>Must select a source code version to provision</li> <li>Can be updated to newer versions</li> <li>Extract variables from the selected version</li> <li>Use the version's Terraform/OpenTofu modules</li> </ul>"},{"location":"core-concepts/resources/overview/#resources-and-integrations","title":"Resources and Integrations","text":"<p>Cloud integrations provide credentials for provisioning:</p> <ul> <li>Multiple integrations can be associated with one resource</li> <li>Required for accessing cloud providers</li> <li>Used for both provisioning and metadata retrieval</li> <li>Support various authentication methods (IAM roles, service principals, etc.)</li> </ul> <p>Learn more about Cloud Integrations.</p>"},{"location":"core-concepts/resources/overview/#resources-and-storage","title":"Resources and Storage","text":"<p>Storage backends persist Terraform/OpenTofu state:</p> <ul> <li>S3 for AWS</li> <li>Azure Blob Storage for Azure</li> <li>Google Cloud Storage for GCP</li> <li>State locking supported</li> <li>Encryption at rest</li> </ul>"},{"location":"core-concepts/resources/overview/#resources-and-workspaces","title":"Resources and Workspaces","text":"<p>Terraform/OpenTofu workspaces provide isolation:</p> <ul> <li>Optional feature</li> <li>Useful for multi-tenancy</li> <li>Separate state files per workspace</li> <li>Can be changed after creation</li> </ul>"},{"location":"core-concepts/resources/overview/#advanced-features","title":"\ud83d\ude80 Advanced Features","text":""},{"location":"core-concepts/resources/overview/#temporary-state-management","title":"Temporary State Management","text":"<p>When updating resources, InfraKitchen creates a temporary state that allows you to:</p> <ul> <li>Preview changes before applying them to production</li> <li>Compare current vs. proposed configuration</li> <li>Make adjustments before committing</li> <li>Merge approved changes or discard unwanted modifications</li> <li>Automatic cleanup after merge or discard</li> </ul> <p>See Update Step - Temporary State Workflow for the complete process.</p>"},{"location":"core-concepts/resources/overview/#kubernetes-integration","title":"Kubernetes Integration","text":"<p>For resources that provision Kubernetes clusters:</p> <ul> <li>View pod status and details</li> <li>Monitor deployments and services</li> <li>Access real-time container logs</li> <li>Execute commands in pods (if configured)</li> </ul> <p>Learn more about Kubernetes Integration.</p>"},{"location":"core-concepts/resources/overview/#audit-logging","title":"Audit Logging","text":"<p>All resource operations are logged:</p> <ul> <li>Who performed action</li> <li>What changed</li> <li>When it occurred</li> <li>Operation outcome</li> </ul> <p>Learn more about Audit Logging.</p>"},{"location":"core-concepts/resources/workflow/","title":"Workflow","text":""},{"location":"core-concepts/resources/workflow/#resource-workflows","title":"Resource Workflows","text":"<p>This document details the technical workflows for infrastructure resources in InfraKitchen. For high-level concepts and UI instructions, see the Resources Overview.</p>"},{"location":"core-concepts/resources/workflow/#workflow-overview","title":"\ud83d\udcca Workflow Overview","text":"<p>The resource workflow consists of primary steps that guide a resource from creation to deletion. The workflow differs based on whether the approval flow feature is enabled or disabled.</p>"},{"location":"core-concepts/resources/workflow/#with-approval-flow-enabled","title":"With Approval Flow Enabled","text":"<p>When approval flow is enabled, all provisioning, update, and destroy operations require explicit approval from resource owners before execution:</p> <pre><code>graph TD\n    A[1. Create Resource] --&gt; B[2. Request Approval]\n    B --&gt; C{Owner Decision}\n    C --&gt;|Approved| D[3. Provision]\n    C --&gt;|Rejected| E[Cancelled]\n    D --&gt; F[Resource Provisioned]\n\n    F --&gt; G[4. Request Update]\n    G --&gt; H[5. Review Changes]\n    H --&gt; I{Owner Decision}\n    I --&gt;|Approved| J[6. Apply Changes]\n    I --&gt;|Rejected| K[Discard Changes]\n    J --&gt; F\n    K --&gt; F\n\n    F --&gt; L[7. Request Destroy]\n    L --&gt; M{Owner Decision}\n    M --&gt;|Approved| N[8. Execute Destroy]\n    M --&gt;|Rejected| F\n    N --&gt; O[Resource Destroyed]\n    O --&gt; P[9. Delete Record]\n    P --&gt; Q[End]\n    E --&gt; Q\n\n    style B fill:#fff3cd\n    style H fill:#fff3cd\n    style L fill:#fff3cd\n    style C fill:#d1ecf1\n    style I fill:#d1ecf1\n    style M fill:#d1ecf1</code></pre>"},{"location":"core-concepts/resources/workflow/#with-approval-flow-disabled","title":"With Approval Flow Disabled","text":"<p>When approval flow is disabled, operations execute automatically after being requested, providing faster deployment cycles:</p> <pre><code>graph TD\n    A[1. Create Resource] --&gt; B[2. Provision]\n    B --&gt; C[Resource Provisioned]\n\n    C --&gt; D[3. Request Update]\n    D --&gt; E[4. Apply Changes]\n    E --&gt; C\n\n    C --&gt; F[5. Request Destroy]\n    F --&gt; G[6. Execute Destroy]\n    G --&gt; H[Resource Destroyed]\n    H --&gt; I[7. Delete Record]\n    I --&gt; J[End]\n\n    style A fill:#d4edda\n    style D fill:#d4edda\n    style F fill:#d4edda</code></pre>"},{"location":"core-concepts/resources/workflow/#1-create","title":"1\ufe0f\u20e3 Create","text":"<p>The Create step initializes a new resource in InfraKitchen's database without provisioning any actual infrastructure yet.</p>"},{"location":"core-concepts/resources/workflow/#what-happens","title":"What Happens","text":"<ul> <li>Validates configuration (name, template, variables)</li> <li>Checks parent resources are in <code>provisioned</code> state</li> <li>Inherits dependency tags and configs from parent resources</li> <li>Set initial state to <code>provision</code></li> <li>Set initial status to <code>ready</code></li> <li>Create resource record in database</li> <li>Initialize revision number to 1</li> <li>Assign permissions based on creator</li> </ul>"},{"location":"core-concepts/resources/workflow/#prerequisites","title":"Prerequisites","text":"<ul> <li>Template must exist and be enabled</li> <li>Parent resources must be <code>provisioned</code></li> <li>Required variables must be provided</li> <li>Cloud integrations must be configured (for non-abstract resources)</li> </ul>"},{"location":"core-concepts/resources/workflow/#dependency-inheritance","title":"Dependency Inheritance","text":"<p>When a resource is created, it automatically inherits from its parents:</p> <p>Dependency Tags:</p> <ul> <li>Tags with <code>inherited_by_children: true</code> are copied from all parent resources</li> <li>Multiple parents contribute tags (child receives union of all parent tags)</li> </ul> <p>Dependency Configs:</p> <ul> <li>Configs with <code>inherited_by_children: true</code> are used as default variable values</li> <li>When creating a resource, if a variable name matches a parent config name, the config value pre-populates the variable field</li> <li>User can override inherited config values during resource creation</li> </ul>"},{"location":"core-concepts/resources/workflow/#state-transitions","title":"State Transitions","text":"<ul> <li>Before: N/A</li> <li>Final: State <code>provision</code>, Status: <code>ready</code></li> </ul>"},{"location":"core-concepts/resources/workflow/#validation-checks","title":"Validation Checks","text":"<ol> <li>Name uniqueness: Name must be unique within template and source code version</li> <li>Parent compatibility: Parents must match template's parent templates</li> <li>Variable validation: All required variables must have valid values</li> <li>Frozen variables: Values for frozen variables cannot be changed later</li> <li>Unique variables: Values for unique variables must be unique across resources</li> <li>Storage path: Must be unique and follow naming conventions</li> </ol>"},{"location":"core-concepts/resources/workflow/#2-approval-conditional","title":"2\ufe0f\u20e3 Approval (Conditional)","text":"<p>The Approval step is only active when the \"Approval Flow\" feature flag is enabled. It provides a manual review and approval gate before provisioning.</p>"},{"location":"core-concepts/resources/workflow/#when-triggered","title":"When Triggered","text":"<ul> <li>Create flow: After resource creation, before provisioning</li> <li>Update flow: After update request, before applying changes</li> <li>Destroy flow: After destroy request, before executing destruction</li> </ul>"},{"location":"core-concepts/resources/workflow/#what-happens_1","title":"What Happens","text":"<ul> <li>Sets status to <code>approval_pending</code></li> <li>Notifies resource owner</li> <li>Waits for owner decision</li> <li>Records approval/rejection decision</li> <li>Updates status based on decision</li> </ul>"},{"location":"core-concepts/resources/workflow/#approval-roles","title":"Approval Roles","text":"Role Can Approve Can Request Can View Owner \u2705 \u2705 \u2705 Admin \u2705 \u2705 \u2705 Write \u274c \u2705 \u2705 Read \u274c \u274c \u2705"},{"location":"core-concepts/resources/workflow/#state-transitions_1","title":"State Transitions","text":"<p>If Approved:</p> <ul> <li>Status: <code>approval_pending</code> \u2192 <code>ready</code></li> <li>Workflow continues to next step</li> </ul> <p>If Rejected:</p> <ul> <li>Status: <code>approval_pending</code> \u2192 <code>rejected</code></li> <li>Workflow stops, resource remains in current state</li> </ul>"},{"location":"core-concepts/resources/workflow/#3-provision","title":"3\ufe0f\u20e3 Provision","text":"<p>The Provision step executes the actual infrastructure as code to create resources in the cloud environment.</p>"},{"location":"core-concepts/resources/workflow/#what-happens_2","title":"What Happens","text":"<ol> <li>Sets status to <code>in_progress</code></li> <li>Fetches cloud integration credentials</li> <li>Initializes Terraform/OpenTofu backend</li> <li>Downloads source code from Git</li> <li>Prepares variable files</li> <li>Executes <code>terraform apply</code> or <code>tofu apply</code></li> <li>Extracts outputs from state file</li> <li>Sets state to <code>provisioned</code> and status to <code>done</code></li> </ol>"},{"location":"core-concepts/resources/workflow/#prerequisites_1","title":"Prerequisites","text":"<ul> <li>Resource must be in <code>provision</code> state with <code>ready</code> status</li> <li>If approval flow enabled, resource must be approved</li> <li>Parent resources must be in <code>provisioned</code> state</li> <li>Cloud integrations must be valid</li> <li>Storage backend must be accessible</li> <li>Source code must be valid Terraform/OpenTofu</li> </ul>"},{"location":"core-concepts/resources/workflow/#dry-run-plan","title":"Dry Run (Plan)","text":"<p>Before provisioning, you can perform a dry run:</p> Bash<pre><code># InfraKitchen executes:\nterraform init\nterraform plan -out=plan.tfplan\n</code></pre> <p>The plan shows:</p> <ul> <li>Resources to be created</li> <li>Resources to be changed</li> <li>Resources to be destroyed</li> <li>Estimated changes</li> </ul>"},{"location":"core-concepts/resources/workflow/#state-transitions_2","title":"State Transitions","text":"<ul> <li>Before: State: <code>provision</code>, Status: <code>ready</code></li> <li>During: State: <code>provision</code>, Status: <code>in_progress</code></li> <li>Success: State: <code>provisioned</code>, Status: <code>done</code></li> <li>Failure: State: <code>provision</code>, Status: <code>error</code></li> </ul>"},{"location":"core-concepts/resources/workflow/#execution-environment","title":"Execution Environment","text":"<p>The provision operation runs in an isolated environment with:</p> <ul> <li>Terraform/OpenTofu CLI</li> <li>Cloud provider CLI tools (aws-cli, az, gcloud)</li> <li>Git for source code checkout</li> <li>Environment variables from integrations</li> <li>Backend configuration for state storage</li> </ul>"},{"location":"core-concepts/resources/workflow/#output-extraction","title":"Output Extraction","text":"<p>After successful provisioning, InfraKitchen extracts outputs:</p> Terraform<pre><code># In Terraform code\noutput \"vpc_id\" {\n  description = \"The ID of the VPC\"\n  value       = aws_vpc.main.id\n}\n\noutput \"subnet_ids\" {\n  description = \"List of subnet IDs\"\n  value       = aws_subnet.private[*].id\n}\n</code></pre> <p>These outputs are stored in the resource and can be:</p> <ul> <li>Referenced by child resources</li> <li>Used in dependency configs</li> </ul>"},{"location":"core-concepts/resources/workflow/#example-execution-log","title":"Example Execution Log","text":"Text Only<pre><code>[2025-10-20 10:00:00] Starting provision for resource: vpc-production-us-east-1\n[2025-10-20 10:00:01] Fetching cloud integration: aws-production\n[2025-10-20 10:00:02] Initializing Terraform backend\n[2025-10-20 10:00:05] Terraform initialized successfully\n[2025-10-20 10:00:06] Downloading source code version: v1.2.0\n[2025-10-20 10:00:08] Preparing variable file\n[2025-10-20 10:00:09] Executing terraform apply\n[2025-10-20 10:00:10] Creating aws_vpc.main\n[2025-10-20 10:02:15] aws_vpc.main: Creation complete (ID: vpc-0123456789abcdef)\n[2025-10-20 10:02:16] Creating aws_subnet.private[0]\n[2025-10-20 10:02:30] aws_subnet.private[0]: Creation complete (ID: subnet-111)\n[2025-10-20 10:02:31] Apply complete! Resources: 2 added, 0 changed, 0 destroyed\n[2025-10-20 10:02:32] Extracting outputs\n[2025-10-20 10:02:33] Provision completed successfully\n</code></pre>"},{"location":"core-concepts/resources/workflow/#error-handling","title":"Error Handling","text":"<p>If provisioning fails:</p> <ol> <li>Error is captured and logged</li> <li>Status set to <code>error</code></li> <li>State remains <code>provision</code></li> <li>User can review logs</li> <li>Fix issues and retry</li> </ol>"},{"location":"core-concepts/resources/workflow/#4-update","title":"4\ufe0f\u20e3 Update","text":"<p>The Update step modifies an existing provisioned resource. InfraKitchen uses a temporary state mechanism to safely preview and apply changes.</p>"},{"location":"core-concepts/resources/workflow/#what-happens_3","title":"What Happens","text":"<ol> <li>Creates temporary state with proposed changes</li> <li>User reviews changes in temporary state</li> <li>Optionally perform dry run on temporary state</li> <li>If approval flow: requests approval</li> <li>Merges temporary state to main resource</li> <li>Executes Terraform/OpenTofu apply</li> <li>Updates outputs</li> <li>Increments revision number</li> </ol>"},{"location":"core-concepts/resources/workflow/#temporary-state-workflow","title":"Temporary State Workflow","text":"<p>Update Process</p> <p>Updates create a temporary state for review. You can preview changes before applying.</p> <pre><code>graph LR\n    A[Create Temp State] --&gt; B[Review Changes]\n    B --&gt; C{Dry Run?}\n    C --&gt;|Yes| D[View Plan]\n    D --&gt; E{Satisfied?}\n    C --&gt;|No| E\n    E --&gt;|No| F[Modify Temp State]\n    F --&gt; B\n    E --&gt;|Yes| G{Approval Needed?}\n    G --&gt;|Yes| H[Request Approval]\n    G --&gt;|No| I[Merge Changes]\n    H --&gt;|Approved| I\n    H --&gt;|Rejected| J[Discard Temp State]\n    I --&gt; K[Apply Changes]\n    K --&gt; L[Update Resource]</code></pre>"},{"location":"core-concepts/resources/workflow/#state-transitions_3","title":"State Transitions","text":"<ul> <li>Before: State: <code>provisioned</code>, Status: <code>done</code></li> <li>Temp State Created: Status: <code>pending</code> (for temp state)</li> <li>During Apply: State: <code>provisioned</code>, Status: <code>in_progress</code></li> <li>Success: State: <code>provisioned</code>, Status: <code>done</code>, Revision++</li> <li>Failure: State: <code>provisioned</code>, Status: <code>error</code></li> </ul>"},{"location":"core-concepts/resources/workflow/#what-can-change","title":"What Can Change","text":"<p>\u2705 Updatable: Description, source code version, variables (except frozen), integrations, labels, workspace</p> <p>\u274c Immutable: Name, template, storage backend, storage path</p> <p>Source Code Version Updates</p> <p>Changing the source code version will update the available variables. Ensure compatibility and test in non-production environments first.</p>"},{"location":"core-concepts/resources/workflow/#frozen-variables","title":"Frozen Variables","text":"<p>Variables marked as <code>frozen: true</code> cannot be changed after initial provisioning. Attempting to change them results in a validation error.</p> <p>Discarded States</p> <p>Discarded temporary states are permanently deleted and cannot be recovered.</p>"},{"location":"core-concepts/resources/workflow/#5-recreate","title":"5\ufe0f\u20e3 Recreate","text":"<p>The Recreate step makes it possible to re-provision a resource that has been previously rejected or destroyed.</p>"},{"location":"core-concepts/resources/workflow/#what-happens_4","title":"What Happens","text":"<ol> <li>Sets state to <code>provision</code> and status to <code>ready</code></li> <li>If approval flow enabled: requests approval</li> <li>Sets status to <code>in_progress</code></li> <li>Executes <code>terraform apply</code></li> <li>Extracts new outputs</li> <li>Updates resource record</li> <li>Increments revision number</li> </ol>"},{"location":"core-concepts/resources/workflow/#state-transitions_4","title":"State Transitions","text":"<ul> <li>Before: State: <code>destroyed</code>, Status: <code>done</code> OR State: <code>provision</code>, Status: <code>rejected</code></li> <li>Initiated: State: <code>provision</code>, Status: <code>ready</code></li> <li>During Provision: State: <code>provision</code>, Status: <code>in_progress</code></li> <li>Success: State: <code>provisioned</code>, Status: <code>done</code></li> <li>Failure: State: <code>provision</code>, Status: <code>error</code></li> </ul>"},{"location":"core-concepts/resources/workflow/#6-destroy","title":"6\ufe0f\u20e3 Destroy","text":"<p>The Destroy step removes infrastructure from the cloud provider while keeping the resource record in InfraKitchen.</p>"},{"location":"core-concepts/resources/workflow/#what-happens_5","title":"What Happens","text":"<ol> <li>Validates no child resources exist in <code>provisioned</code> state</li> <li>Sets state to <code>destroy</code> and status to <code>ready</code></li> <li>If approval flow: request approval</li> <li>Sets status to <code>in_progress</code></li> <li>Executes <code>terraform destroy</code></li> <li>Removes all cloud resources</li> <li>Sets state to <code>destroyed</code> and status to <code>done</code></li> <li>Clears outputs</li> </ol>"},{"location":"core-concepts/resources/workflow/#prerequisites_2","title":"Prerequisites","text":"<ul> <li>Resource must be in <code>provisioned</code> state</li> <li>No child resources in <code>provisioned</code> state</li> <li>User must have admin permissions</li> </ul>"},{"location":"core-concepts/resources/workflow/#dependency-checks","title":"Dependency Checks","text":"<p>Before destroying, InfraKitchen verifies:</p> <ol> <li>Children in wrong state: Checks if any children are not <code>destroyed</code></li> <li>Dependencies exist: Checks for resources that depend on this resource's outputs</li> </ol> <p>If dependencies exist, destroy is blocked with error:</p> JSON<pre><code>{\n  \"error\": \"Cannot destroy resource\",\n  \"reason\": \"Dependencies exist\",\n  \"dependencies\": [\n    {\n      \"resource_id\": \"child-resource-id\",\n      \"resource_name\": \"eks-cluster-production\",\n      \"state\": \"provisioned\"\n    }\n  ]\n}\n</code></pre>"},{"location":"core-concepts/resources/workflow/#state-transitions_5","title":"State Transitions","text":"<ul> <li>Before: State: <code>provisioned</code>, Status: <code>done</code></li> <li>Initiated: State: <code>destroy</code>, Status: <code>ready</code></li> <li>During: State: <code>destroy</code>, Status: <code>in_progress</code></li> <li>Success: State: <code>destroyed</code>, Status: <code>done</code></li> <li>Failure: State: <code>destroy</code>, Status: <code>error</code></li> </ul>"},{"location":"core-concepts/resources/workflow/#example-execution","title":"Example Execution","text":"Text Only<pre><code>[2025-10-20 15:00:00] Starting destroy for resource: vpc-staging-us-west-2\n[2025-10-20 15:00:01] Checking for child resources\n[2025-10-20 15:00:02] No active children found\n[2025-10-20 15:00:03] Fetching cloud integration: aws-staging\n[2025-10-20 15:00:04] Initializing Terraform backend\n[2025-10-20 15:00:07] Executing terraform destroy\n[2025-10-20 15:00:08] Destroying aws_subnet.private[1]\n[2025-10-20 15:01:20] aws_subnet.private[1]: Destruction complete\n[2025-10-20 15:01:21] Destroying aws_subnet.private[0]\n[2025-10-20 15:02:35] aws_subnet.private[0]: Destruction complete\n[2025-10-20 15:02:36] Destroying aws_vpc.main\n[2025-10-20 15:04:10] aws_vpc.main: Destruction complete\n[2025-10-20 15:04:11] Destroy complete! Resources: 0 added, 0 changed, 3 destroyed\n[2025-10-20 15:04:12] Clearing outputs\n[2025-10-20 15:04:13] Destroy completed successfully\n</code></pre>"},{"location":"core-concepts/resources/workflow/#error-handling_1","title":"Error Handling","text":"<p>Common destroy errors:</p> <ul> <li>Dependencies exist: Other resources still using this resource</li> <li>Resource in use: Cloud provider preventing deletion (e.g., VPC with ENIs)</li> <li>Permission denied: Insufficient IAM/RBAC permissions</li> <li>Resource not found: Already deleted outside of InfraKitchen</li> </ul>"},{"location":"core-concepts/resources/workflow/#7-delete","title":"7\ufe0f\u20e3 Delete","text":"<p>The Delete step permanently removes the resource record from InfraKitchen's database.</p>"},{"location":"core-concepts/resources/workflow/#what-happens_6","title":"What Happens","text":"<ol> <li>Verifies resource in <code>destroyed</code> state</li> <li>Removes permissions</li> <li>Archives audit logs</li> <li>Deletes database record</li> <li>Removes parent/child relationships</li> </ol>"},{"location":"core-concepts/resources/workflow/#prerequisites_3","title":"Prerequisites","text":"<ul> <li>Resource must be in <code>destroyed</code> state</li> <li>User must have admin permissions</li> <li>All temporary states must be resolved</li> </ul>"},{"location":"core-concepts/resources/workflow/#what-gets-deleted","title":"What Gets Deleted","text":"<ul> <li>Resource metadata and configuration</li> <li>Variable values</li> <li>Parent/child relationships</li> <li>Labels and tags</li> <li>Revision history</li> </ul>"},{"location":"core-concepts/resources/workflow/#what-is-preserved","title":"What Is Preserved","text":"<ul> <li>Audit logs (archived)</li> <li>Historical activity logs</li> <li>Reference in other resources' history (as \"deleted resource\")</li> </ul>"},{"location":"core-concepts/resources/workflow/#state-transitions_6","title":"State Transitions","text":"<ul> <li>Before: State: <code>destroyed</code>, Status: <code>done</code></li> <li>Final: Resource deleted, no longer exists</li> </ul>"},{"location":"core-concepts/resources/workflow/#irreversibility","title":"Irreversibility","text":"<p>Permanent Deletion</p> <p>Delete operation is permanent and cannot be undone. The resource cannot be recovered after deletion. If you need to recreate the infrastructure, you must create a new resource from scratch.</p>"},{"location":"core-concepts/resources/workflow/#when-to-delete","title":"When to Delete","text":"<ul> <li>Cleanup after decommissioning</li> <li>Removing test resources</li> <li>Archiving old infrastructure records</li> <li>Reducing clutter in resource list</li> </ul>"},{"location":"core-concepts/resources/workflow/#when-not-to-delete","title":"When Not to Delete","text":"<ul> <li>Resource might be needed for reference</li> <li>Audit requirements mandate retention</li> <li>Historical context is valuable</li> <li>Rollback might be needed</li> </ul>"},{"location":"core-concepts/resources/workflow/#state-constraints","title":"\u26a0\ufe0f State Constraints","text":"Current State Allowed Next States Available Actions provision <code>provisioned</code>, <code>provision</code> Provision, Retry, Recreate provisioned <code>provisioned</code>, <code>destroy</code> Update, Destroy destroy <code>destroyed</code>, <code>provisioned</code> Execute, Cancel destroyed <code>provision</code>, (none - for delete) Recreate, Delete"},{"location":"core-concepts/resources/workflow/#status-tracking","title":"\ud83d\udcc8 Status Tracking","text":"<p>Resource statuses provide real-time operation state:</p> Status Meaning Available User Actions ready Ready for next operation Execute action queued Waiting in execution queue Wait in_progress Currently executing Monitor logs done Successfully completed View results error Failed with error Review logs, retry approval_pending Awaiting owner approval Approve/reject pending Waiting for prerequisite Check dependencies rejected Approval was rejected Modify and resubmit unknown Status cannot be determined Check system health"},{"location":"core-concepts/resources/workflow/#workflow-variations","title":"\ud83d\udd00 Workflow Variations","text":""},{"location":"core-concepts/resources/workflow/#abstract-resources","title":"Abstract Resources","text":"<p>Abstract resources skip provisioning steps:</p> <ol> <li>Create (no provision step)</li> <li>Update metadata, tags, and configs only</li> <li>Delete (no destroy needed)</li> </ol>"},{"location":"core-concepts/resources/workflow/#resources-without-approval-flow","title":"Resources Without Approval Flow","text":"<p>When approval flow is disabled:</p> <ol> <li>Create \u2192 Provision (automatic)</li> <li>Update \u2192 Apply (automatic)</li> <li>Destroy \u2192 Execute (automatic)</li> </ol>"},{"location":"core-concepts/templates/overview/","title":"Templates","text":""},{"location":"core-concepts/templates/overview/#templates","title":"Templates","text":"<p>In InfraKitchen, Templates define the organizational structure and meta-information for your infrastructure components. They establish hierarchical relationships between different infrastructure elements and provide the framework for provisioning actual resources.</p> <p>Templates are abstract definitions that become concrete when you create Resources from them using Source Code Versions. Think of templates as recipes in your infrastructure kitchen\u2014they define what can be built, but not the actual infrastructure itself.</p>"},{"location":"core-concepts/templates/overview/#template-properties","title":"\ud83d\udccb Template Properties","text":"<p>Each template in InfraKitchen contains the following core properties:</p> Property Description Notes Name Human-readable display name E.g., \"AWS VPC\", \"EKS Cluster\" Template Key Unique, immutable identifier Lowercase, alphanumeric with underscores Description Detailed information about the template Markdown supported Status Current state of the template <code>enabled</code> or <code>disabled</code> Abstract Whether template can be instantiated If true, serves only as a parent Parents Templates this template depends on Hierarchical relationships Children Templates that depend on this template Hierarchical relationships Cloud Resource Types Types of cloud resources managed E.g., <code>aws_vpc</code>, <code>azurerm_resource_group</code> Labels Tags for organizing and filtering E.g., <code>aws</code>, <code>networking</code>, <code>production</code> Revision Number Version tracking for template changes Auto-incremented on updates"},{"location":"core-concepts/templates/overview/#template-hierarchies","title":"\ud83c\udf33 Template Hierarchies","text":"<p>Templates support parent-child relationships that mirror your infrastructure dependencies. This allows you to establish logical groupings and enforce provisioning order.</p> <p>Example Hierarchy:</p> Text Only<pre><code>AWS Account (abstract)\n  \u2193\nAWS Regional Environment\n  \u2193\nAWS VPC\n  \u2193\nEKS Cluster\n  \u2193\nKubernetes Namespace\n</code></pre> <p>Hierarchy Rules:</p> <ul> <li>A template cannot be both a parent and child of the same template (no circular dependencies)</li> <li>Abstract templates can only serve as parents and cannot be instantiated as resources</li> <li>Disabled templates cannot be used as parents or children</li> <li>Deleting a template with children is not allowed</li> </ul>"},{"location":"core-concepts/templates/overview/#creating-templates","title":"\u2795 Creating Templates","text":"<p>Templates can be created in two primary ways:</p>"},{"location":"core-concepts/templates/overview/#1-import-from-repository","title":"1. Import from Repository","text":"<p>Import a template directly from a Git repository containing Infrastructure as Code. InfraKitchen will automatically analyze the code and create both the template and its first source code version.</p> <p>Steps:</p> <ol> <li>Navigate to Templates in the sidebar</li> <li>Click Import</li> <li>Select template type (currently OpenTofu/Terraform)</li> <li>Configure Git source (integration, repository, folder, branch)</li> <li>Add metadata (name, description, labels, parents)</li> <li>Click Import</li> </ol> <p>Import Process</p> <p>Importing may take a few minutes as InfraKitchen clones the repository, analyzes the code, extracts variables and outputs, and creates the template with its source code version.</p>"},{"location":"core-concepts/templates/overview/#2-manual-creation","title":"2. Manual Creation","text":"<p>Create a template from scratch by defining all properties manually. This is useful when you want to establish the organizational structure before adding infrastructure code.</p> <p>Steps:</p> <ol> <li>Navigate to Templates in the sidebar</li> <li>Click Create</li> <li>Fill in required fields (name, template key, description)</li> <li>Configure optional properties (parents, children, labels, cloud resource types)</li> <li>Check Abstract if the template should not be instantiated directly</li> <li>Click Save</li> </ol>"},{"location":"core-concepts/templates/overview/#managing-templates","title":"\ud83d\udd27 Managing Templates","text":""},{"location":"core-concepts/templates/overview/#template-details","title":"Template Details","text":"<p>Click View Details on any template to see comprehensive information organized into sections:</p> Section Content Overview Status, abstract flag, creation info, labels, parent/child relationships Resources All resource instances created from this template Input Variables Aggregated variables from source code versions with types and descriptions Output Values Available outputs after resource provisioning Tree View Visual hierarchy showing parents (upward) or children (downward)"},{"location":"core-concepts/templates/overview/#updating-templates","title":"Updating Templates","text":"<p>Template metadata can be modified after creation, with some important constraints:</p> <ul> <li>Updates increment the revision number</li> <li>Template key is immutable and cannot be changed</li> <li>Parent/child relationship changes affect hierarchy but not existing resources</li> </ul>"},{"location":"core-concepts/templates/overview/#disabling-templates","title":"Disabling Templates","text":"<p>Disabling prevents new resources from being created but doesn't affect existing ones.</p> <p>Effects of disabling:</p> <ul> <li>Cannot create new resources from this template</li> <li>Cannot be selected as parent or child for other templates</li> <li>Can be re-enabled later</li> <li>Existing resources remain functional</li> </ul>"},{"location":"core-concepts/templates/overview/#deleting-templates","title":"Deleting Templates","text":"<p>Templates must be disabled before deletion and cannot be deleted if they have:</p> <ul> <li>Child templates</li> <li>Existing resources</li> <li>Associated source code versions</li> </ul> <p>Permanent Deletion</p> <p>Template deletion is permanent and cannot be undone. Handle all dependencies first.</p>"},{"location":"core-concepts/templates/overview/#integration-with-other-features","title":"\ud83d\udd17 Integration with Other Features","text":""},{"location":"core-concepts/templates/overview/#template-variables-and-source-code-versions","title":"Template Variables and Source Code Versions","text":"<p>Templates don't contain executable code directly. Instead, they're associated with Source Code Versions that contain:</p> <ul> <li>Infrastructure as Code (OpenTofu/Terraform) modules</li> <li>Variable definitions</li> <li>Output definitions</li> <li>Provisioning logic</li> </ul> <p>A single template can have multiple source code versions, allowing you to:</p> <ul> <li>Support different implementations</li> <li>Version infrastructure code independently</li> <li>Test new versions before making them default</li> </ul>"},{"location":"core-concepts/templates/overview/#templates-and-resources","title":"Templates and Resources","text":"<p>Resources are concrete instances of templates. Each resource:</p> <ul> <li>References exactly one template</li> <li>Uses a source code version associated with that template</li> <li>Inherits the template's hierarchical structure</li> <li>Can only have parents matching the template's parent templates</li> </ul>"},{"location":"core-concepts/templates/overview/#template-permissions","title":"\ud83d\udd10 Template Permissions","text":"<p>Template actions are controlled by user permissions:</p> Action Permission Required View All authenticated users Create Template create permission Edit Admin permission on the template Disable/Enable Admin permission on the template Delete Admin permission on the template <p>Permissions are inherited from the organization's role-based access control (RBAC) configuration.</p>"},{"location":"core-concepts/workspaces/overview/","title":"Workspaces","text":""},{"location":"core-concepts/workspaces/overview/#workspaces","title":"Workspaces","text":"<p>In InfraKitchen, Workspaces connect your managed infrastructure resources to a real Git repository that stores the generated Infrastructure-as-Code for each resource. While Templates define the abstract structure and Resources represent concrete instances, Workspaces are the Git-backed execution surface where resource code is synchronized, reviewed, and promoted through pull requests.</p> <p>A workspace represents a single repository on a supported Git provider (GitHub, Bitbucket, Azure DevOps). The repository itself must be created manually beforehand in the provider and then registered inside InfraKitchen. InfraKitchen never creates repositories; it consumes them.</p>"},{"location":"core-concepts/workspaces/overview/#core-concepts","title":"\ud83e\uddf1 Core Concepts","text":"<p>Think of a Workspace as the stable home and audit boundary for all code generated from Resources belonging to a given integration scope. When a Resource is provisioned or updated, InfraKitchen syncs (or deletes) the corresponding code folder into the workspace repository under a deterministic path based on the template and resource name.</p> <p>Workspace automation handles:</p> <ul> <li>Cloning and branching</li> <li>Copying generated resource source code (e.g. OpenTofu/Terraform modules and support files)</li> <li>Creating pull requests for new or updated resources</li> <li>Merging (approve) or closing (reject) those pull requests</li> <li>Deleting resource code when the resource is destroyed</li> </ul> <p>Every change is evented and audit-logged.</p>"},{"location":"core-concepts/workspaces/overview/#workspace-properties","title":"\ud83d\udccb Workspace Properties","text":"Property Description Notes Name Derived from provider metadata (GitHub repo name, Bitbucket slug, Azure DevOps repo name) Immutable after creation Workspace Provider Git service backing the workspace <code>github</code>, <code>bitbucket</code>, <code>azure_devops</code> Integration The configured integration object used for auth &amp; API access Must match provider Description Human-readable notes about the workspace Editable Labels Tags for organization &amp; filtering Free-form list Status Internal processing state <code>in_progress</code>, <code>done</code>, <code>error</code> Configuration.name Repository name Mirrors provider value Configuration.url Canonical HTML/portal URL Provider dependent Configuration.ssh_url SSH clone URL Used if integration uses SSH Configuration.https_url HTTPS clone URL (username stripped) Used if integration uses HTTPS Configuration.default_branch Branch used as merge base Usually <code>main</code> (GitHub/Azure) or provider default Configuration.organization Owning organization / project key Provider-specific mapping Created At / Updated At Timestamps Auto-managed Creator User who registered workspace For audit &amp; permissions"},{"location":"core-concepts/workspaces/overview/#folder-layout-for-synced-code","title":"\ud83d\udcc1 Folder Layout for Synced Code","text":"<p>When a resource is synchronized into a workspace repository its code is placed at:</p> Text Only<pre><code>&lt;repo_root&gt;/&lt;template_key&gt;/&lt;resource_name_slug&gt;/\n</code></pre> <p>Where:</p> <ul> <li><code>template_key</code> is the template's unique key</li> <li><code>resource_name_slug</code> is the lowercased resource name with spaces replaced by underscores</li> </ul> <p>Example:</p> Text Only<pre><code>aws_vpc/prod_network_vpc/\nkubernetes_namespace/analytics_namespace/\n</code></pre>"},{"location":"core-concepts/workspaces/overview/#lifecycle-actions","title":"\u267b\ufe0f Lifecycle &amp; Actions","text":"Action Trigger Effect Git Operation Create Workspace registration Stores metadata only None Sync (Provision / Update) Resource provision/update Copies resource code into repo path on a new branch Clone, new branch, copy, commit, push, PR create Delete (Destroy) Resource destroy Removes resource code folder via new branch Clone, new branch, delete folder, commit, push, PR create Approve Manual approval of resource changes Merges the pending PR into default branch API merge PR Reject Manual rejection Closes the pending PR without merge API close PR Recreate Forced re-sync (internal) Sync + approve flow Combined Destroy Workspace Admin deletion (only if no dependencies) Removes workspace record None <p>Workspace status transitions revolve around task execution:</p> <ul> <li>Set to <code>in_progress</code> at start of a sync/approve/reject/destroy pipeline</li> <li>Set to <code>done</code> on completion</li> <li>Set to <code>error</code> on failure or retry exhaustion</li> </ul>"},{"location":"core-concepts/workspaces/overview/#branch-naming-convention","title":"\ud83c\udf3f Branch Naming Convention","text":"<p>Branches created for resource operations follow:</p> Resource State Branch Prefix Example Provision / Provisioned <code>update_</code> <code>update_prod_network_vpc</code> Destroy / Destroyed <code>delete_</code> <code>delete_prod_network_vpc</code> <p>The suffix derives from the slugified resource name.</p>"},{"location":"core-concepts/workspaces/overview/#pull-request-flow","title":"\ud83d\udd00 Pull Request Flow","text":"<ol> <li>Clone repository using SSH or HTTPS depending on integration type</li> <li>Create new branch from default branch</li> <li>Copy or delete resource code path</li> <li>Commit changes with a structured message including the initiating user</li> <li>Push branch (force if necessary to ensure latest state)</li> <li>Attempt PR creation (skips if already exists)</li> <li>Await manual action:<ul> <li>Approve: Merge PR into default branch</li> <li>Reject: Close PR without merge</li> </ul> </li> </ol> <p>Idempotency</p> <p>If a pull request with the same head branch already exists, InfraKitchen logs and skips PR creation to avoid duplicates.</p>"},{"location":"core-concepts/workspaces/overview/#creating-a-workspace","title":"\u2795 Creating a Workspace","text":"<p>You must first create a repository in your Git provider (GitHub, Bitbucket, Azure DevOps). Then register that repository in InfraKitchen.</p> <p>Steps:</p> <ol> <li>Navigate to Workspaces in the sidebar</li> <li>Click Create</li> <li>Select provider and integration</li> <li>Paste or select repository metadata (InfraKitchen fetches details via provider API)</li> <li>Add optional description &amp; labels</li> <li>Click Save</li> </ol> <p>InfraKitchen normalizes provider-specific metadata into a unified configuration.</p> <p>Repository Ownership</p> <p>InfraKitchen does not modify repository settings, permissions, or branches beyond creating feature branches and PRs for resource code.</p>"},{"location":"core-concepts/workspaces/overview/#updating-a-workspace","title":"\u270f\ufe0f Updating a Workspace","text":"<p>Only description and labels can be modified. Name, provider, integration, and configuration internals are immutable. Updates emit an audit log and event.</p>"},{"location":"core-concepts/workspaces/overview/#deleting-a-workspace","title":"\ud83d\uddd1\ufe0f Deleting a Workspace","text":"<p>A workspace can be deleted only if it has no dependent resources.</p> <p>Constraints:</p> <ul> <li>No resources referencing the workspace</li> <li>No implicit locks or pending tasks</li> </ul> <p>Attempting deletion with dependencies raises an error.</p> <p>Irreversible</p> <p>Deleting a workspace removes its InfraKitchen record. It does not delete the underlying Git repository.</p>"},{"location":"core-concepts/workspaces/overview/#permissions","title":"\ud83d\udd10 Permissions","text":"Action Permission Notes View Authenticated users Basic list &amp; detail Create Workspace create permission Integration must be accessible Update Write/admin on workspace Limited fields Approve / Reject Write/admin on resource &amp; workspace Acts on existing PR Delete Workspace Admin on workspace Requires no dependencies <p>Permissions leverage the platform RBAC and entity-level access checks.</p>"},{"location":"core-concepts/workspaces/overview/#integration-with-templates-resources","title":"\ud83d\udd17 Integration with Templates &amp; Resources","text":"<ul> <li>Templates define structural hierarchy and naming; workspace code layout nests resource folders under their template key.</li> <li>Resources trigger workspace sync tasks on create/update/destroy.</li> <li>The workspace never stores execution state; it stores generated IaC code for review and promotion.</li> <li>Pull requests provide a human approval gate before code lands in the default branch, enabling policy checks or external CI.</li> </ul> <p>Cross-links:</p> <ul> <li>Templates</li> <li>Resources</li> </ul>"},{"location":"core-concepts/workspaces/overview/#troubleshooting","title":"\ud83d\udd27 Troubleshooting","text":"Symptom Possible Cause Resolution PR not created Existing branch/PR already open Approve or close existing PR; trigger resync Workspace status stuck <code>in_progress</code> Task failure before final state Check entity logs; look for Git auth errors Missing resource folder Sync not triggered or branch not merged Verify resource state and PR approval Merge fails API permissions insufficient Ensure integration token has repo write &amp; PR merge rights"},{"location":"getting-started/overview/","title":"What is InfraKitchen?","text":""},{"location":"getting-started/overview/#what-is-infrakitchen","title":"What is InfraKitchen?","text":"<p>InfraKitchen is a self-service infrastructure provisioning platform that bridges the gap between platform engineering and development teams. It enables developers to deploy cloud infrastructure through a guided interface, while platform engineers maintain control, consistency, and compliance.</p> <p>Built on Infrastructure-as-Code (IaC) principles, InfraKitchen provides a structured, scalable approach to managing cloud infrastructure across multiple environments and accounts.</p> <p>Platform engineers define standardized templates and best practices, while developers can deploy approved infrastructure components \u2014 without needing deep knowledge of cloud platforms or IaC tools.</p>"},{"location":"getting-started/overview/#how-infrakitchen-helps","title":"\ud83c\udf7d\ufe0f How InfraKitchen Helps","text":""},{"location":"getting-started/overview/#for-platform-teams","title":"For Platform Teams","text":"<p>InfraKitchen enables platform teams to:</p> <ul> <li>Define infrastructure once and reuse it across multiple environments and accounts.</li> <li>Enforce standards and best practices through controlled templates and validated variables.</li> <li>Maintain consistency and scalability across projects with versioned infrastructure modules.</li> <li>Audit and log all changes to ensure compliance, visibility, and traceability.</li> </ul>"},{"location":"getting-started/overview/#for-developers","title":"For Developers","text":"<p>InfraKitchen enables developers to:</p> <ul> <li>Provision infrastructure easily without needing deep knowledge of cloud providers or IaC tools.</li> <li>Select from approved templates to deploy resources that meet organizational standards.</li> <li>Reduce dependency on platform teams while maintaining security and governance.</li> <li>Work transparently within a version-controlled and auditable workflow.</li> </ul>"},{"location":"getting-started/overview/#quick-setup-overview","title":"\ud83d\ude80 Quick Setup Overview","text":""},{"location":"getting-started/overview/#1-platform-engineers","title":"1. Platform Engineers","text":"<ul> <li>Set up Integrations (e.g., AWS, GitHub).</li> <li>Define Templates and their relationships.</li> <li>Register Source Code Repositories and Versions.</li> <li>Configure Variables and provisioning rules.</li> </ul>"},{"location":"getting-started/overview/#2-developers","title":"2. Developers","text":"<ul> <li>Select a Template and Source Code Version.</li> <li>Fill out a dynamic form generated from the Template's variables.</li> <li>Provision infrastructure with confidence.</li> </ul>"},{"location":"getting-started/overview/#roadmap","title":"\ud83e\udded Roadmap","text":"<p>InfraKitchen is actively developed with exciting features on the horizon:</p> <ul> <li>Blueprints - Multi-resource deployment patterns for common architectures</li> <li>Approval Workflows - Customizable review processes for sensitive resources</li> <li>Drift Detection - Monitor and alert on infrastructure changes outside InfraKitchen</li> <li>Multi-Cloud Templates - Deploy across multiple cloud providers simultaneously</li> </ul> <p>Want to influence the roadmap? Join our Discord community!</p>"},{"location":"getting-started/overview/#next-steps","title":"\u27a1\ufe0f Next Steps","text":"<ul> <li>\ud83d\udc49 Quick Start \u2014 Set up InfraKitchen in your environment.</li> <li>\ud83d\udee0\ufe0f Platform Engineer Guide \u2014 Step-by-step setup for platform teams.</li> <li>\ud83d\udc69\u200d\ud83d\udcbb Developer Guide \u2014 How to provision resources as a developer.</li> <li>\ud83e\udde9 Core Concepts \u2014 Learn about InfraKitchen's main building blocks.</li> </ul>"},{"location":"getting-started/quick-start/","title":"Quick Start","text":""},{"location":"getting-started/quick-start/#quick-start","title":"Quick Start","text":""},{"location":"getting-started/quick-start/#try-infrakitchen-locally","title":"\ud83d\ude80 Try InfraKitchen Locally","text":"<p>For local development, you can use one of the following options:</p> <ul> <li>\u2744\ufe0f Nix Flake (recommended)</li> <li>\ud83d\udc33 Docker</li> <li>\ud83e\uddad Podman</li> </ul> <p>InfraKitchen has a backend and frontend codebase. This repo (<code>electrolux-oss/infrakitchen</code> on GitHub) contains both parts:</p> <ul> <li><code>server/</code> contains the backend (Python/FastAPI)</li> <li><code>ui/</code> contains the frontend (React/TypeScript)</li> </ul> <p>The following services are automatically set up for you:</p> <ul> <li>RabbitMQ Broker for driving the events</li> <li>PostgreSQL for storing the data</li> </ul> <p>InfraKitchen will be available at <code>http://localhost:7777</code> and you can log in with Guest user.</p> <p>New to InfraKitchen? Start with Core Concepts to understand the key terminology.</p>"},{"location":"getting-started/quick-start/#default-settings","title":"\u2699\ufe0f Default Settings","text":"<p>Encryption keys will be automatically generated on first run in the <code>server/.env_local</code> file.</p> <p>All data will be stored in the <code>ik_data/</code> folder. You can delete this folder to start the project from scratch.</p>"},{"location":"getting-started/quick-start/#add-fake-data","title":"\ud83d\udee0\ufe0f Add fake data","text":"<p>To populate InfraKitchen with fake data for testing purposes, you can run the following command:</p> Bash<pre><code>make fixtures\n</code></pre>"},{"location":"getting-started/quick-start/#generate-secret-keys","title":"\ud83d\udd11 Generate Secret Keys","text":"<p>You can generate secret keys for backend by running the following commands:</p> Bash<pre><code>python server/generate_encryption_key.py\n</code></pre>"},{"location":"getting-started/deployment/image/","title":"Docker","text":""},{"location":"getting-started/deployment/image/#docker-deployment","title":"Docker Deployment","text":""},{"location":"getting-started/deployment/image/#use-docker-image-for-production-deployment","title":"Use Docker Image for Production Deployment","text":"<p>The following Dockerfile executes the multi-stage build. Save file as <code>Dockerfile</code> in the root directory of the project.</p> Docker<pre><code>FROM docker.io/library/python:3.14-trixie@sha256:dcf12835490de651661bfc30235de1233cf167435ea167c37ba9786affc5dbab AS python_builder\nRUN apt-get update &amp;&amp; apt-get install -y curl unzip\n\nRUN curl -sSL https://github.com/opentofu/opentofu/releases/download/v1.10.6/tofu_1.10.6_linux_amd64.zip -o tofu.zip &amp;&amp; \\\n  unzip -q tofu.zip\n\nWORKDIR /app\n\nCOPY ./server /app\n\n# install UV\nRUN pip install --no-cache-dir uv &amp;&amp; uv sync --no-dev --frozen\nRUN mkdir -p build; cp -r src/* build/; cp .env pyproject.toml README.md uv.lock build\n\n\nFROM node:24.6.0-bookworm-slim@sha256:9b741b28148b0195d62fa456ed84dd6c953c1f17a3761f3e6e6797a754d9edff AS node_builder\n\nWORKDIR /app\nCOPY ./ui /app\nRUN yarn install &amp;&amp; yarn build\n\n\nFROM docker.io/library/python:3.14-trixie@sha256:dcf12835490de651661bfc30235de1233cf167435ea167c37ba9786affc5dbab\n\nRUN apt-get update &amp;&amp; apt-get install -y git nginx &amp;&amp; \\\n  apt-get clean &amp;&amp; rm -rf /var/lib/apt/lists/*\n\nCOPY ./docs/examples/docker/nginx.conf /etc/nginx/conf.d/default.conf\nCOPY --from=node_builder /app/dist /usr/share/nginx/html\n\nWORKDIR /app\n\nCOPY --from=python_builder /app/build /app\nCOPY --from=python_builder /app/.venv /app/.venv\nCOPY --from=python_builder /tofu /usr/local/bin/tofu\nCOPY ./docs/examples/docker/entrypoint.sh /app/entrypoint.sh\nRUN chmod +x /app/entrypoint.sh\n\nRUN chmod +x /usr/local/bin/tofu\n\nENV ENV=production\nENV PATH=$PATH:.venv/bin\nENTRYPOINT [\"/app/entrypoint.sh\"]\n</code></pre> <p>To build the docker image, run the following command from the root directory of the project:</p> Bash<pre><code>docker build -t your-image-name:tag .\n</code></pre>"},{"location":"getting-started/deployment/kubernetes/","title":"Kubernetes","text":""},{"location":"getting-started/deployment/kubernetes/#kubernetes-deployment","title":"Kubernetes Deployment","text":"<p>For running InfraKitchen on Kubernetes, you can use the following example manifest. Make sure to:</p> <ul> <li>Replace the placeholders <code>&lt;SERVICE_ACCOUNT_NAME&gt;</code>, <code>&lt;IMG_NAME&gt;</code>, <code>&lt;POSTGRES_HOST&gt;</code>, <code>&lt;RabbitMQ_URL&gt;</code> and <code>&lt;HOST_NAME&gt;</code> with your actual values.</li> <li>RabbitMQ and PostgreSQL services are assumed to be running and accessible from Kubernetes cluster.</li> <li>Before applying the manifest, ensure that you have created a Kubernetes Secret for InfraKitchen.</li> </ul>"},{"location":"getting-started/deployment/kubernetes/#create-namespace-if-needed-and-switch-context-to-the-namespace","title":"Create Namespace if Needed and Switch Context to the Namespace","text":"Bash<pre><code>kubectl create namespace infrakitchen\nkubectl config set-context --current --namespace=infrakitchen\n</code></pre>"},{"location":"getting-started/deployment/kubernetes/#generate-secrets-for-jwt-and-encryption-keys","title":"Generate Secrets for JWT and Encryption Keys","text":"<p>You can use the following commands to generate base64 encoded secrets:</p> Bash<pre><code>python server/generate_encryption_key.py\n</code></pre>"},{"location":"getting-started/deployment/kubernetes/#replace-values-with-getting-values-in-previous-step-and-apply-kubectl-command","title":"Replace Values With Getting Values in Previous Step and Apply kubectl Command","text":"Bash<pre><code>kubectl create secret generic infrakitchen-secrets \\\n                --from-literal=\"enc-secret=&lt;REPLACE_VALUE&gt;\" \\\n                --from-literal=\"jwt-secret=&lt;REPLACE_VALUE&gt;\" \\\n                --from-literal=\"postgres-password=&lt;REPLACE_VALUE&gt;\"\n</code></pre>"},{"location":"getting-started/deployment/kubernetes/#apply-the-manifest","title":"Apply the Manifest","text":"YAML<pre><code>---\n# Service for InfraKitchen backend\napiVersion: v1\nkind: Service\nmetadata:\n  name: infrakitchen\n  labels:\n    app.kubernetes.io/name: infrakitchen\n    app.kubernetes.io/instance: infrakitchen\n    app.kubernetes.io/component: infrakitchen\nspec:\n  type: ClusterIP\n  sessionAffinity: None\n  ports:\n    - name: http-backend\n      port: 8080\n      targetPort: backend\n      protocol: TCP\n      nodePort: null\n  selector:\n    app.kubernetes.io/name: infrakitchen\n    app.kubernetes.io/instance: infrakitchen\n    app.kubernetes.io/component: infrakitchen\n---\n# Deployment for InfraKitchen backend\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: infrakitchen\n  labels:\n    app.kubernetes.io/name: infrakitchen\n    app.kubernetes.io/instance: infrakitchen\n    app.kubernetes.io/component: infrakitchen\n  annotations:\nspec:\n  replicas: 2\n  revisionHistoryLimit: 10\n  selector:\n    matchLabels:\n      app.kubernetes.io/name: infrakitchen\n      app.kubernetes.io/instance: infrakitchen\n      app.kubernetes.io/component: infrakitchen\n  template:\n    metadata:\n      labels:\n        app.kubernetes.io/name: infrakitchen\n        app.kubernetes.io/instance: infrakitchen\n        app.kubernetes.io/component: infrakitchen\n      annotations:\n    spec:\n      serviceAccountName: &lt;SERVICE_ACCOUNT_NAME&gt;\n\n      containers:\n        - name: infrakitchen-backend\n          image: &lt;IMG_NAME&gt;\n          imagePullPolicy: \"Always\"\n          resources:\n            limits:\n              cpu: 200m\n              memory: 256Mi\n            requests:\n              cpu: 100m\n              memory: 128Mi\n          readinessProbe:\n            failureThreshold: 10\n            httpGet:\n              path: /healthcheck\n              port: 8080\n            initialDelaySeconds: 10\n            periodSeconds: 10\n            successThreshold: 1\n            timeoutSeconds: 1\n          livenessProbe:\n            failureThreshold: 10\n            httpGet:\n              path: /healthcheck\n              port: 8080\n            initialDelaySeconds: 10\n            periodSeconds: 10\n            successThreshold: 1\n            timeoutSeconds: 1\n          env:\n            - name: POSTGRES_HOST\n              value: &lt;POSTGRES_HOST&gt;\n            - name: POSTGRES_PORT\n              value: \"5432\"\n            - name: POSTGRES_USER\n              value: infrakitchen\n            - name: POSTGRES_DB\n              value: infrakitchen\n            - name: POSTGRES_MIGRATIONS\n              value: \"true\"\n            - name: POSTGRES_PASSWORD\n              valueFrom:\n                secretKeyRef:\n                  name: infrakitchen-secrets\n                  key: postgres-password\n\n            - name: BROKER_URL\n              value: &lt;RabbitMQ_URL&gt;\n              # example value: amqp://guest:password@infrakitchen-rabbitmq:5672\n            - name: JWT_KEY\n              valueFrom:\n                secretKeyRef:\n                  name: infrakitchen-secrets\n                  key: jwt-secret\n            - name: ENCRYPTION_KEY\n              valueFrom:\n                secretKeyRef:\n                  name: infrakitchen-secrets\n                  key: enc-secret\n            - name: SESSION_EXPIRATION\n              value: \"86400\"\n          ports:\n            - name: backend\n              containerPort: 8080\n              protocol: TCP\n---\n# Deployment for InfraKitchen scheduler\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: infrakitchen-scheduler\n  labels:\n    app.kubernetes.io/name: infrakitchen\n    app.kubernetes.io/instance: infrakitchen\n    app.kubernetes.io/component: infrakitchen-scheduler\n  annotations:\nspec:\n  replicas: 1\n  revisionHistoryLimit: 10\n  selector:\n    matchLabels:\n      app.kubernetes.io/name: infrakitchen\n      app.kubernetes.io/instance: infrakitchen\n      app.kubernetes.io/component: infrakitchen-scheduler\n  template:\n    metadata:\n      labels:\n        app.kubernetes.io/name: infrakitchen\n        app.kubernetes.io/instance: infrakitchen\n        app.kubernetes.io/component: infrakitchen-scheduler\n      annotations:\n    spec:\n      serviceAccountName: &lt;SERVICE_ACCOUNT_NAME&gt;\n\n      containers:\n        - name: infrakitchen-scheduler\n          image: &lt;IMG_NAME&gt;\n          imagePullPolicy: \"Always\"\n          command:\n            - /app/.venv/bin/python\n            - scheduler.py\n          resources:\n            limits:\n              cpu: 1000m\n              memory: 1024Mi\n            requests:\n              cpu: 300m\n              memory: 256Mi\n          env:\n            - name: POSTGRES_HOST\n              value: &lt;POSTGRES_HOST&gt;\n            - name: POSTGRES_PORT\n              value: \"5432\"\n            - name: POSTGRES_USER\n              value: infrakitchen\n            - name: POSTGRES_DB\n              value: infrakitchen\n            - name: POSTGRES_PASSWORD\n              valueFrom:\n                secretKeyRef:\n                  name: infrakitchen-secrets\n                  key: postgres-password\n            - name: BROKER_URL\n              value: &lt;RabbitMQ_URL&gt;\n              # example value: amqp://guest:password@infrakitchen-rabbitmq:5672\n            - name: JWT_KEY\n              valueFrom:\n                secretKeyRef:\n                  name: infrakitchen-secrets\n                  key: jwt-secret\n            - name: ENCRYPTION_KEY\n              valueFrom:\n                secretKeyRef:\n                  name: infrakitchen-secrets\n                  key: enc-secret\n          ports:\n            - name: backend\n              containerPort: 8080\n              protocol: TCP\n---\n# Deployment for InfraKitchen worker\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: infrakitchen-worker\n  labels:\n    app.kubernetes.io/name: infrakitchen\n    app.kubernetes.io/instance: infrakitchen\n    app.kubernetes.io/component: infrakitchen-worker\n  annotations:\nspec:\n  replicas: 2\n  revisionHistoryLimit: 10\n  selector:\n    matchLabels:\n      app.kubernetes.io/name: infrakitchen\n      app.kubernetes.io/instance: infrakitchen\n      app.kubernetes.io/component: infrakitchen-worker\n  template:\n    metadata:\n      labels:\n        app.kubernetes.io/name: infrakitchen\n        app.kubernetes.io/instance: infrakitchen\n        app.kubernetes.io/component: infrakitchen-worker\n      annotations:\n    spec:\n      serviceAccountName: &lt;SERVICE_ACCOUNT_NAME&gt;\n\n      containers:\n        - name: infrakitchen-worker\n          image: &lt;IMG_NAME&gt;\n          imagePullPolicy: \"Always\"\n          command:\n            - /app/.venv/bin/python\n            - worker.py\n          resources:\n            limits:\n              cpu: 1000m\n              memory: 1024Mi\n            requests:\n              cpu: 300m\n              memory: 256Mi\n          env:\n            - name: POSTGRES_HOST\n              value: &lt;POSTGRES_HOST&gt;\n            - name: POSTGRES_PORT\n              value: \"5432\"\n            - name: POSTGRES_USER\n              value: infrakitchen\n            - name: POSTGRES_DB\n              value: infrakitchen\n            - name: POSTGRES_PASSWORD\n              valueFrom:\n                secretKeyRef:\n                  name: infrakitchen-secrets\n                  key: postgres-password\n            - name: BROKER_URL\n              value: &lt;RabbitMQ_URL&gt;\n              # example value: amqp://guest:password@infrakitchen-rabbitmq:5672\n            - name: JWT_KEY\n              valueFrom:\n                secretKeyRef:\n                  name: infrakitchen-secrets\n                  key: jwt-secret\n            - name: ENCRYPTION_KEY\n              valueFrom:\n                secretKeyRef:\n                  name: infrakitchen-secrets\n                  key: enc-secret\n          ports:\n            - name: backend\n              containerPort: 8080\n              protocol: TCP\n---\n# Ingress for InfraKitchen (NGINX Controller example)\napiVersion: networking.k8s.io/v1\nkind: Ingress\nmetadata:\n  name: infrakitchen\n  labels:\n    app.kubernetes.io/name: infrakitchen\n    app.kubernetes.io/instance: infrakitchen\n    app.kubernetes.io/component: infrakitchen\n  annotations:\n    cert-manager.io/cluster-issuer: letsencrypt-internal\n    ingress.kubernetes.io/rewrite-target: /\n    kubernetes.io/ingress.class: nginx\n    kubernetes.io/tls-acme: \"true\"\n    nginx.ingress.kubernetes.io/proxy-body-size: 11M\n    nginx.ingress.kubernetes.io/proxy-buffer-size: 16k\n    nginx.ingress.kubernetes.io/proxy-read-timeout: \"600\"\n    nginx.ingress.kubernetes.io/ssl-redirect: \"true\"\n    nginx.ingress.kubernetes.io/upgrade-proxy: \"true\"\n    nginx.org/client-max-body-size: 10m\nspec:\n  ingressClassName: \"nginx\"\n  tls:\n    - hosts:\n      - &lt;HOST_NAME&gt;\n      secretName: ik-tls\n  rules:\n    - host: &lt;HOST_NAME&gt;\n      http:\n        paths:\n          - path: /\n            pathType: Prefix\n            backend:\n              service:\n                name: infrakitchen\n                port:\n                  number: 8080\n</code></pre>"},{"location":"getting-started/deployment/requirements/","title":"Requirements","text":""},{"location":"getting-started/deployment/requirements/#requirements","title":"Requirements","text":""},{"location":"getting-started/deployment/requirements/#minimum-system-requirements-for-deploying-infrakitchen","title":"Minimum System Requirements for Deploying InfraKitchen","text":"<p>To successfully deploy InfraKitchen, ensure that your system meets the following minimum requirements:</p> <ul> <li>Python: Version 3.14</li> <li>Node.js: Version 24</li> <li>PostgreSQL: Version 17</li> <li>RabbitMQ: Version 4.0.9</li> <li>Nginx: Version 1.28</li> <li>OpenTofu (Terraform): Version 1.10</li> <li>Yarn: Version 1.22</li> <li>Git Client: Latest stable version</li> </ul>"},{"location":"getting-started/development/docker/","title":"Docker","text":""},{"location":"getting-started/development/docker/#docker-setup","title":"Docker Setup","text":"<p>Set up InfraKitchen using Docker for local development.</p>"},{"location":"getting-started/development/docker/#quick-start","title":"\ud83d\ude80 Quick Start","text":"<ol> <li> <p>Make sure you have Docker installed on your machine. You can download it from Docker's official website.</p> </li> <li> <p>Clone the project repository to your local machine using Git.</p> </li> <li> <p>From the root directory of the project, run the following command to copy Docker Compose file and start the development environment:</p> </li> </ol> Bash<pre><code>cp docs/examples/docker/docker-compose.yml ./docker-compose.yml\ndocker compose up -d\n</code></pre> <p>Access at http://localhost:7777 and log in with Guest user.</p>"},{"location":"getting-started/development/docker/#common-commands","title":"\ud83d\udee0\ufe0f Common Commands","text":"Bash<pre><code>docker compose logs -f    # View logs\ndocker compose restart    # Restart services\ndocker compose down       # Stop all services\ndocker compose up -d      # Start services\n</code></pre>"},{"location":"getting-started/development/docker/#next-steps","title":"\u27a1\ufe0f Next Steps","text":"<ul> <li>\ud83d\udee0\ufe0f Platform Engineer Guide \u2014 Step-by-step setup for platform teams.</li> <li>\ud83d\udc69\u200d\ud83d\udcbb Developer Guide \u2014 How to provision resources as a developer.</li> <li>\ud83e\udde9 Core Concepts \u2014 Learn about InfraKitchen's main building blocks.</li> </ul>"},{"location":"getting-started/development/nix-flake/","title":"Nix Flake","text":""},{"location":"getting-started/development/nix-flake/#nix-flake-setup","title":"Nix Flake Setup","text":"<p>Set up InfraKitchen using Nix for a reproducible development environment.</p>"},{"location":"getting-started/development/nix-flake/#quick-start","title":"\ud83d\ude80 Quick Start","text":"<p>If you don't have Nix installed:</p> Bash<pre><code># Official installer (recommended)\ncurl -L https://nixos.org/nix/install | sh -s -- --daemon\n</code></pre> <p>Clone the repository and run:</p> Bash<pre><code>nix develop\n</code></pre> <p>Access at http://localhost:7777 and log in with Guest user.</p>"},{"location":"getting-started/development/nix-flake/#enable-experimental-features","title":"\u2699\ufe0f Enable Experimental Features","text":"<p>If you see <code>error: experimental Nix feature 'nix-command' is disabled</code>:</p> <p>Add to <code>/etc/nix/nix.conf</code> (or <code>~/.config/nix/nix.conf</code> on macOS):</p> Text Only<pre><code>experimental-features = nix-command flakes\n</code></pre> <p>Then restart the Nix daemon or run with flag:</p> Bash<pre><code>nix --extra-experimental-features 'nix-command flakes' develop\n</code></pre>"},{"location":"getting-started/development/nix-flake/#whats-included","title":"\ud83d\udce6 What's Included","text":"<p>The Nix shell automatically sets up:</p> <ul> <li>Python 3.14 with backend dependencies</li> <li>Node.js with frontend dependencies</li> <li>PostgreSQL, RabbitMQ</li> <li>Development tools (ruff, pyright, prettier, eslint)</li> </ul> <p>All isolated from your system.</p>"},{"location":"getting-started/development/nix-flake/#common-commands","title":"\ud83d\udee0\ufe0f Common Commands","text":"<p>To exit the Nix shell, type <code>exit</code> or press Ctrl+D.</p>"},{"location":"getting-started/development/nix-flake/#next-steps","title":"\u27a1\ufe0f Next Steps","text":"<ul> <li>\ud83d\udee0\ufe0f Platform Engineer Guide \u2014 Step-by-step setup for platform teams.</li> <li>\ud83d\udc69\u200d\ud83d\udcbb Developer Guide \u2014 How to provision resources as a developer.</li> <li>\ud83e\udde9 Core Concepts \u2014 Learn about InfraKitchen's main building blocks.</li> </ul>"},{"location":"getting-started/development/podman/","title":"Podman","text":""},{"location":"getting-started/development/podman/#podman-setup","title":"Podman Setup","text":"<p>Set up InfraKitchen using Podman for local development.</p>"},{"location":"getting-started/development/podman/#quick-start","title":"\ud83d\ude80 Quick Start","text":"<ol> <li>Make sure you have Podman installed on your machine. You can download it from Podman's official website. Optionally, you may need to install <code>podman-compose</code> as well. Check the podman-compose repository for installation instructions.</li> <li>Clone the project repository to your local machine using Git.</li> <li>From root directory of the project, run the following command to copy the Docker Compose file and start the development environment:</li> </ol> Bash<pre><code>cp docs/examples/docker/docker-compose.yml ./docker-compose.yml\npodman compose up -d\n</code></pre> <p>Access at http://localhost:7777 and log in with Guest user.</p> <p>Using podman-compose</p> <p>If you have podman-compose installed, use <code>podman-compose</code> instead of <code>podman compose</code>.</p>"},{"location":"getting-started/development/podman/#common-commands","title":"\ud83d\udee0\ufe0f Common Commands","text":"Bash<pre><code>podman compose logs -f    # View logs\npodman compose restart    # Restart services\npodman compose down       # Stop all services\npodman compose up -d      # Start services\n</code></pre>"},{"location":"getting-started/development/podman/#troubleshooting","title":"\ud83d\udc1b Troubleshooting","text":"<p>Networking issues between containers:</p> <p>You may encounter issues related to networking between containers when using Podman. If you face such issues try to stop and restart the containers:</p> Bash<pre><code>podman compose down &amp;&amp; podman compose up -d\n</code></pre>"},{"location":"getting-started/development/podman/#next-steps","title":"\u27a1\ufe0f Next Steps","text":"<ul> <li>\ud83d\udee0\ufe0f Platform Engineer Guide \u2014 Step-by-step setup for platform teams.</li> <li>\ud83d\udc69\u200d\ud83d\udcbb Developer Guide \u2014 How to provision resources as a developer.</li> <li>\ud83e\udde9 Core Concepts \u2014 Learn about InfraKitchen's main building blocks.</li> </ul>"},{"location":"guides/developer-guide/","title":"Developer Guide","text":""},{"location":"guides/developer-guide/#developer-guide","title":"Developer Guide","text":"<p>This guide shows how to turn infrastructure templates into real cloud resources with InfraKitchen. You do not need deep cloud or Terraform/OpenTofu knowledge to follow the steps.</p>"},{"location":"guides/developer-guide/#core-ideas-know-these-first","title":"\ud83d\udca1 Core Ideas (Know These First)","text":"<ul> <li>Template: Defines what can be built (the recipe).</li> <li>Source Code Version: Specific version of IaC code linked to the template.</li> <li>Resource: A real instance created from a template + version + variables.</li> <li>Variables: Inputs the code needs (some required, some frozen, some sensitive).</li> <li>Cloud Integrations: Credentials (AWS, Azure, GCP, etc.).</li> <li>Storage: Backend for Terraform/OpenTofu state (S3, Blob, GCS).</li> <li>Dependency Tags: Key/value tags that can flow down to children.</li> <li>Dependency Configs: Key/value config values that prefill matching variable names for children.</li> <li>Outputs: Values produced after provisioning (can feed child resources).</li> <li>Abstract Resource: Organizes hierarchy and passes tags/configs; does not create cloud infra.</li> </ul>"},{"location":"guides/developer-guide/#prerequisites-checklist","title":"\u2705 Prerequisites Checklist","text":"<p>Before creating a non-abstract resource:</p> <ul> <li>Template exists and is enabled.</li> <li>You know which Source Code Version to use.</li> <li>Required variables identified.</li> <li>Cloud integration(s) available.</li> <li>(Optional) Parent resources already provisioned (if template has parents).</li> <li>Storage backend configured globally or selectable.</li> </ul> <p>For an abstract resource, integrations and storage are not needed.</p>"},{"location":"guides/developer-guide/#quick-start-create-provision","title":"\ud83d\ude80 Quick Start: Create &amp; Provision","text":"<ol> <li>Go to Resources.</li> <li>Click Create.</li> <li>Pick a template.</li> <li>Enter:<ul> <li>Name (unique within template + version).</li> <li>Description (optional).</li> <li>Parent resources (if required).</li> </ul> </li> <li>(Optional) Add dependency tags/configs you want children to inherit.</li> <li>Add labels (e.g. team, env).</li> <li>Select cloud integration(s) (skip for abstract).</li> <li>(Optional) Select workspace.</li> <li>Choose Source Code Version.</li> <li>Fill variables:<ul> <li>Required must have values.</li> <li>Sensitive are masked.</li> <li>Frozen cannot change later.</li> <li>Unique must be globally unique for same template.</li> <li>References: may auto-populate from parent outputs or dependency configs.</li> </ul> </li> <li>Save.</li> <li>If approval flow enabled: wait for approval. Else proceed.</li> <li>(Optional) Run Dry Run (Plan) to preview.</li> <li>Click Provision.</li> </ol> <p>Result: State becomes <code>provisioned</code>, status <code>done</code>. Outputs become available.</p>"},{"location":"guides/developer-guide/#dry-run-plan-purpose","title":"\ud83e\uddea Dry Run (Plan) Purpose","text":"<p>Use Dry Run before Provision / Update to see adds, changes, destroys without applying. Fix variable mistakes early.</p>"},{"location":"guides/developer-guide/#using-outputs-references","title":"\ud83d\udd17 Using Outputs &amp; References","text":"<p>After provisioning:</p> <ul> <li>Child resource variables can reference parent outputs.</li> <li>Dependency configs with matching names prefill child variable values (override allowed).</li> <li>Tags marked inherited flow automatically.</li> </ul>"},{"location":"guides/developer-guide/#updating-a-resource","title":"\u270f\ufe0f Updating a Resource","text":"<p>You can change: description, variables (not frozen), labels, integrations, workspace, source code version.</p> <p>Update flow:</p> <ol> <li>Start Update.</li> <li>Temp state is created.</li> <li>Review differences (plan optional).</li> <li>If needed, adjust variables.</li> <li>If approval flow: await approval.</li> <li>Apply changes.</li> <li>Revision increments; outputs refresh.</li> </ol> <p>Discard temp state if changes unwanted.</p>"},{"location":"guides/developer-guide/#recreate","title":"\u267b\ufe0f Recreate","text":"<p>Use when resource was destroyed or rejected:</p> <ul> <li>Triggers provisioning again from existing definition.</li> <li>Same steps as initial Provision (approval may apply).</li> </ul>"},{"location":"guides/developer-guide/#destroy-vs-delete","title":"\ud83d\uddd1\ufe0f Destroy vs Delete","text":"<ul> <li>Destroy: Removes cloud infra; keeps resource record (state becomes <code>destroyed</code>).</li> <li>Delete: Permanently removes record (only allowed after destroy). Cannot undo.</li> </ul> <p>Destroy rules:</p> <ul> <li>No child resources still provisioned.</li> <li>Approval may be required.</li> <li>Outputs cleared after success.</li> </ul>"},{"location":"guides/developer-guide/#abstract-resources","title":"\ud83c\udfe2 Abstract Resources","text":"<p>When creating an abstract resource:</p> <ul> <li>Skip integrations, source code version, workspace, variables.</li> <li>Use it to group and propagate tags/configs.</li> <li>Can have children (abstract or provisioned).</li> <li>No Provision / Destroy \u2014 only Create, Update, Delete.</li> </ul>"},{"location":"guides/developer-guide/#lifecycle-cheat-sheet","title":"\ud83d\udccb Lifecycle Cheat Sheet","text":"Action Start State End State Notes Provision provision provisioned Runs IaC apply. Update provisioned provisioned Temp state preview. Recreate destroyed/rejected provisioned Fresh apply. Dry Run provision/provisioned (pre-apply) unchanged Preview only. Destroy provisioned destroyed Runs IaC destroy. Delete destroyed (removed) Final cleanup."},{"location":"guides/developer-guide/#best-practices","title":"\ud83c\udfc6 Best Practices","text":"<ul> <li>Start with abstract resources for Environment / Account to cascade tags/configs.</li> <li>Use Dry Run on updates to avoid surprises.</li> <li>Keep naming consistent (include env + region).</li> <li>Avoid frequent Source Code Version jumps in production\u2014test on staging first.</li> <li>Destroy before Delete to keep audit trail until truly not needed.</li> </ul>"},{"location":"guides/developer-guide/#next-steps","title":"\u23ed\ufe0f Next Steps","text":"<p>After first resource:</p> <ul> <li>Create child resources referencing outputs (e.g. VPC \u2192 EKS \u2192 Namespace).</li> <li>Use labels and tags for filtering and cost tracking.</li> <li>Explore audit logs for traceability.</li> </ul> <p>You can now create, provision, update, and safely retire resources in InfraKitchen without deep IaC internals. For more details, see the Resources page.</p>"},{"location":"guides/platform-engineer-guide/","title":"Platform Engineer Guide","text":""},{"location":"guides/platform-engineer-guide/#platform-engineer-guide","title":"Platform Engineer Guide","text":"<p>This guide is for platform engineers responsible for enabling self-service infrastructure in InfraKitchen. It covers the key concepts, patterns, and best practices needed to deliver secure, consistent, and auditable infrastructure workflows at scale.</p>"},{"location":"guides/platform-engineer-guide/#quick-checklist","title":"\u2705 Quick Checklist","text":"<ol> <li>Create cloud integrations (AWS/Azure/GCP + any ancillary: Datadog, MongoDB).</li> <li>Create Git provider integration(s).</li> <li>Register workspaces (Git repos for generated resource code).</li> <li>Define hierarchy (Account \u2192 Environment/Region \u2192 Network \u2192 Platform \u2192 App Layer).</li> <li>Import or create templates (abstract first, then concrete).</li> <li>Add initial source code versions (tag/branch + module path).</li> <li>Enable approval flow (optional policy).</li> <li>Establish naming + tagging conventions.</li> <li>Create abstract resources (Account / Environment).</li> <li>Provision first concrete resource (e.g. VPC) with dry run.</li> <li>Cascade child resources (e.g. VPC \u2192 EKS \u2192 Namespace).</li> </ol>"},{"location":"guides/platform-engineer-guide/#integrations","title":"\ud83d\udd17 Integrations","text":""},{"location":"guides/platform-engineer-guide/#11-cloud-provider","title":"1.1 Cloud Provider","text":"<p>Configure cloud provider integrations to enable connectivity, management, and automation of workloads across environments.</p> <ul> <li>Use least\u2011privilege roles/service principals.</li> <li>Separate read vs write if future compliance requires.</li> <li>Rotate credentials regularly. Updating integration does not break existing resources.</li> </ul>"},{"location":"guides/platform-engineer-guide/#12-git-provider","title":"1.2 Git Provider","text":"<p>Add GitHub/Bitbucket/Azure DevOps integration with repo write + PR permissions.</p> <ul> <li>PAT / App / Service Connection must allow branch create + merge.</li> <li>Avoid using personal tokens for long\u2011term automation.</li> </ul>"},{"location":"guides/platform-engineer-guide/#13-auth","title":"1.3 Auth","text":"<p>Register SSO (GitHub/Microsoft) and tooling (Datadog, MongoDB) as needed for downstream templates.</p> <p>For more details, see Integrations Page.</p>"},{"location":"guides/platform-engineer-guide/#workspaces","title":"\ud83d\uddc2\ufe0f Workspaces","text":"<p>Register a pre\u2011created repository as a workspace to hold generated resource code.</p> <ul> <li>Keep main branch protected. Approvals occur via PR.</li> <li>Repository layout auto: <code>&lt;template_key&gt;/&lt;resource_name_slug&gt;/</code>.</li> <li>Use CI hooks (lint, policy, security scan) on PRs for infra quality gates.</li> </ul> <p>Branch prefixes:</p> <ul> <li><code>update_</code> for create/update.</li> <li><code>delete_</code> for destroy (code removal).</li> </ul> <p>Workspace usage:</p> <ul> <li>Review PR for every update/destroy (branch diff shows adds/removals).</li> <li>CI gates (format, security scan, policy).</li> <li>Merge = approval; close unmerged = reject.</li> <li>Drift avoidance: do not hand\u2011edit generated folders. Push changes via resource update.</li> </ul> <p>For more details, see Workspace Page.</p>"},{"location":"guides/platform-engineer-guide/#template-hierarchy-design","title":"\ud83c\udfd7\ufe0f Template Hierarchy Design","text":"<p>Start abstract \u2192 concrete:</p> <ol> <li><code>aws_account</code> (abstract)</li> <li><code>aws_environment_region</code> (abstract)</li> <li><code>aws_vpc</code></li> <li><code>eks_cluster</code></li> <li><code>kubernetes_namespace</code>. Add others (rds_instance, s3_bucket, alb) under appropriate parent.</li> </ol> <p>Rules:</p> <ul> <li>Avoid circular parent refs.</li> <li>Mark purely structural nodes as abstract.</li> <li>Disable templates before large refactors. Re\u2011enable after validation.</li> </ul>"},{"location":"guides/platform-engineer-guide/#creating-templates","title":"\ud83d\udcdd Creating Templates","text":""},{"location":"guides/platform-engineer-guide/#option-a-import-from-repository","title":"Option A: Import From Repository","text":"<p>Use existing Terraform/OpenTofu module:</p> <ul> <li>Provide integration, repo, path, tag/branch.</li> <li>Auto analysis extracts variables &amp; outputs.</li> <li>Creates initial source code version.</li> </ul>"},{"location":"guides/platform-engineer-guide/#option-b-manual-template-then-version","title":"Option B: Manual Template Then Version","text":"<ol> <li>Create template metadata (name, key, abstract flag, parents).</li> <li>Add source code version linking repo + module path + tag.</li> </ol> <p>Revision number increments on metadata edits. Resource compatibility unaffected unless parent links change (which gate new resources but not existing ones).</p> <p>For more details, see Templates Page.</p>"},{"location":"guides/platform-engineer-guide/#source-code-version-strategy","title":"\ud83c\udff7\ufe0f Source Code Version Strategy","text":"<ul> <li>Tag per release (e.g. <code>v1.2.0</code>).</li> <li>Keep variable schema changes backward compatible.</li> <li>Test new versions in staging environment resource before promoting to production.</li> </ul> <p>Change process:</p> <ol> <li>Add new version.</li> <li>Create staging resource update (dry run \u2192 apply).</li> <li>If safe, update production resource referencing new version.</li> </ol>"},{"location":"guides/platform-engineer-guide/#resource-lifecycle-engineer-view","title":"\ud83d\udd04 Resource Lifecycle (Engineer View)","text":"Phase Action Key Safety Controls Create Resource record only Parent state check, variable validation, inheritance applied. Dry Run Plan Review adds/changes/destroys. Prevents surprise costs. Provision Apply Isolated execution. Outputs stored. Update Temp state + plan Diff review + approval (if enabled). Destroy Infra removal, record retained Child dependency + output usage checks. Delete DB record purge Only after destroyed. Audit archived. Recreate Re-provision after reject/destroy Revision increment for traceability."},{"location":"guides/platform-engineer-guide/#abstract-resources-first","title":"\ud83c\udfe2 Abstract Resources First","text":"<p>Create top\u2011level abstract resources:</p> <ul> <li><code>prod-account</code></li> <li><code>prod-us-east-1</code> (environment/region)</li> </ul> <p>Attach:</p> <ul> <li>Dependency Tags (e.g. <code>BillingCode=PROD-123</code> inherited).</li> <li>Dependency Configs (e.g. <code>aws_region=us-east-1</code>, <code>name_prefix=prod</code>).</li> </ul> <p>These automatically seed child variable defaults and enforce uniform tagging.</p>"},{"location":"guides/platform-engineer-guide/#provision-concrete-resources","title":"\ud83d\ude80 Provision Concrete Resources","text":"<p>Sequence Example:</p> <ol> <li>Create VPC resource under <code>prod-us-east-1</code> (inherit region + tags).</li> <li>Dry run \u2192 review CIDR correctness + cost tags.</li> <li>Provision \u2192 capture outputs (<code>vpc_id</code>, <code>subnet_ids</code>).</li> <li>Create EKS cluster resource referencing VPC outputs.</li> <li>Provision namespaces referencing cluster outputs.</li> </ol> <p>For more details, see Resource Page.</p>"},{"location":"guides/platform-engineer-guide/#updating-resource","title":"\u270f\ufe0f Updating Resource","text":"<p>Workflow:</p> <ol> <li>Request update \u2192 temp state.</li> <li>Adjust variables or source code version.</li> <li>Dry run (plan) \u2192 ensure only expected changes.</li> <li>Approval (if enabled) \u2192 apply.</li> <li>Outputs refreshed. Revision number increments.</li> </ol>"},{"location":"guides/platform-engineer-guide/#destroy-delete-policy","title":"\ud83d\uddd1\ufe0f Destroy &amp; Delete Policy","text":"<p>Recommended:</p> <ul> <li>Enforce \u201cDestroy before Delete\u201d for audit retention.</li> <li>Batch cleanup: destroy leaf resources first; walk upward.</li> </ul> <p>Blocked scenarios:</p> <ul> <li>Active child <code>provisioned</code> resources.</li> <li>Downstream dependencies (outputs referenced). Resolve by destroying or detaching dependents.</li> </ul>"},{"location":"guides/platform-engineer-guide/#governance-rbac","title":"\ud83d\udee1\ufe0f Governance &amp; RBAC","text":"<p>Roles (simplified):</p> <ul> <li>Owner/Admin: approve + destructive actions.</li> <li>Write: create/update resources.</li> <li>Read: view only.</li> </ul>"},{"location":"guides/platform-engineer-guide/#cost-compliance-tips","title":"\ud83d\udcb0 Cost &amp; Compliance Tips","text":"Goal Mechanism Cost Allocation Mandatory inherited tags from abstract account/environment. Least Privilege Separate integration per account. Scope permissions. Change Audit Use workspaces + approval flow + revision numbers. Cleanup Scheduled review of <code>provisioned</code> but idle resources. Run destroy sequences. Consistency Abstract configs for shared values (CIDR ranges, region, naming prefix)."},{"location":"guides/platform-engineer-guide/#troubleshooting-quick-reference","title":"\ud83e\uddf0 Troubleshooting Quick Reference","text":"Symptom Likely Cause Action Plan shows unexpected destroys Variable mismatch or source version drift Re-check inherited configs. Compare previous revision. Resource stuck <code>in_progress</code> Long apply or state lock Inspect logs. Wait for known long tasks. Cannot destroy Active children or output dependencies Destroy children first. Clear references. Variables missing Source code version analysis failed Re-analyze. Confirm path &amp; <code>variables.tf</code> presence. PR not created Existing branch/PR Approve or close current PR. Retrigger update. Status <code>error</code> after apply Terraform failure Review logs. Fix variables/integration. Retry."},{"location":"guides/platform-engineer-guide/#summary","title":"\ud83d\udcda Summary","text":"<p>Establish hierarchy &amp; governance first (abstract resources + tags/configs), then incrementally introduce concrete templates and controlled version updates. Use dry runs, approvals, and workspaces as guardrails. Keep naming/tagging uniform, rotate credentials, and leverage revision + audit trails for accountability.</p>"},{"location":"integrations/overview/","title":"Overview","text":""},{"location":"integrations/overview/#integrations","title":"Integrations","text":"<p>Integrations are the foundation of InfraKitchen's connectivity to external systems. They securely store credentials and configuration needed to interact with cloud providers, Git repositories, and authentication systems.</p>"},{"location":"integrations/overview/#what-are-integrations","title":"\ud83c\udfaf What are Integrations?","text":"<p>An Integration in InfraKitchen is a secure record that contains:</p> <ul> <li>Connection details (URLs, endpoints, account IDs)</li> <li>Authentication credentials (API keys, tokens, OAuth credentials)</li> <li>Configuration settings (regions, scopes, permissions)</li> </ul> <p>All credentials are encrypted at rest and decrypted only when needed for operations.</p>"},{"location":"integrations/overview/#integration-properties","title":"\ud83d\udd0d Integration Properties","text":"<p>All integrations share common properties:</p> Property Description Required Name Human-readable identifier \u2705 Type Cloud/Git/Auth provider \u2705 Provider Specific provider (AWS, GitHub, etc.) \u2705 Configuration Provider-specific settings \u2705 Description Purpose and usage notes \u274c"},{"location":"integrations/overview/#managing-integrations","title":"\ud83d\udee0\ufe0f Managing Integrations","text":""},{"location":"integrations/overview/#create","title":"Create","text":"<p>Only platform engineers can create integrations:</p> <ol> <li>Navigate to Integrations page</li> <li>Click \"Create Integration\"</li> <li>Select provider type</li> <li>Fill in required fields</li> <li>Test connection (if applicable)</li> <li>Save</li> </ol>"},{"location":"integrations/overview/#update","title":"Update","text":"<p>Credentials can be rotated without affecting resources:</p> <ol> <li>Edit existing integration</li> <li>Update credentials</li> <li>Save</li> <li>Existing resources continue working</li> </ol>"},{"location":"integrations/overview/#delete","title":"Delete","text":"<p>\u26a0\ufe0f Warning: Deleting an integration will prevent resources using it from being provisioned or destroyed.</p> <p>Before deletion:</p> <ul> <li>Ensure no resources reference it</li> <li>Update or destroy dependent resources</li> <li>Document the change</li> </ul>"},{"location":"integrations/overview/#provider-specific-guides","title":"\ud83d\udcda Provider-Specific Guides","text":""},{"location":"integrations/overview/#cloud-providers","title":"Cloud Providers","text":"<ul> <li>AWS Setup Guide - IAM roles, permissions, and best practices</li> <li>Azure Setup Guide - Service principals and RBAC</li> <li>GCP Setup Guide - Service accounts and IAM</li> <li>MongoDB Atlas Guide - API keys and project setup</li> <li>Datadog Guide - API and application keys</li> </ul>"},{"location":"integrations/overview/#git-providers","title":"Git Providers","text":"<ul> <li>GitHub Setup Guide - OAuth apps, PATs, and permissions</li> <li>Bitbucket Setup Guide - App passwords and OAuth</li> <li>Azure DevOps Guide - PATs and service connections</li> </ul>"},{"location":"integrations/overview/#auth-providers","title":"Auth Providers","text":"<ul> <li>GitHub OAuth Setup - App registration and scopes</li> <li>Microsoft OAuth Setup - App registration and Azure AD</li> <li>Backstage Integration - Plugin configuration</li> <li>Service Accounts - API token management</li> <li>Guest Access - Development mode</li> </ul>"},{"location":"integrations/troubleshooting/","title":"Troubleshooting","text":""},{"location":"integrations/troubleshooting/#troubleshooting-integration","title":"Troubleshooting Integration","text":""},{"location":"integrations/troubleshooting/#test-connection-failures","title":"Test Connection Failures","text":"<p>If an integration's connection test fails:</p> <ul> <li>Check Credentials: Ensure API keys, tokens, or OAuth credentials are correct and have necessary permissions.</li> <li>Network Access: Verify network settings allow access to the provider's endpoints.</li> <li>Provider Status: Check the provider's status page for outages or maintenance.</li> <li>Follow error messages: Use error details to identify cloud-specific issues.</li> </ul> <p>Consult Provider Docs</p> <p>Each cloud provider may have unique troubleshooting steps. Refer to their official documentation for more details.</p> <p>Connection Testing</p> <p>If connection test has passed successfully it does not guarantee that all operations will succeed. Token permissions or network issues may still cause failures during resource provisioning or management.</p>"},{"location":"integrations/troubleshooting/#ssh-key-validation-issues","title":"SSH Key validation Issues","text":"<p>When using SSH-based integrations (e.g., Git), if test connection has passed it does not guarantee that all operations will succeed. Cloud provider has limited ability to validate SSH keys during connection tests. If you encounter issues during operations (e.g., cloning repositories), consider the following:</p> <ul> <li>Key Permissions: Ensure the SSH key has the correct permissions set on the server (e.g., read access to the repository).</li> <li>Key Format: Verify that the SSH key is in the correct format (e.g., OpenSSH).</li> <li>Test SSH Access: Manually test SSH access to the target server using the same key to confirm connectivity. (Try to clone the repository using git command line with the same SSH key)</li> </ul>"},{"location":"integrations/troubleshooting/#resource-provisioning-issues","title":"Resource Provisioning Issues","text":"<p>If resources fail to provision using an integration:</p> <ul> <li>Review Logs: Check platform logs for error messages related to the integration.</li> <li>Validate Configuration: Ensure integration settings match the requirements for the resources being provisioned.</li> <li>Dependency Check: Confirm that all dependencies (e.g., IAM roles, VPC settings) are correctly configured.</li> <li>Retry Provisioning: After addressing issues, attempt to provision the resources again.</li> </ul>"},{"location":"integrations/troubleshooting/#authentication-errors","title":"Authentication Errors","text":"<p>If integrations throw 403/401 errors during operations:</p> <ul> <li>Check credential Validity: Ensure credentials are active and have not expired.</li> <li>Update Integration: Confirm that the integration has been updated with the new credentials.</li> <li>Test Connection: Re-test the integration connection after updating credentials.</li> <li>Whitelist IPs: Ensure that the platform's IP addresses are whitelisted in the provider's security settings if applicable.</li> </ul>"},{"location":"integrations/auth/backstage/","title":"Backstage","text":""},{"location":"integrations/auth/backstage/#backstage","title":"Backstage","text":"<p>Setting up an Identity Provider (IdP) for Backstage involves a few key steps across your external IdP, your Backstage configuration (<code>app-config.yaml</code>).</p>"},{"location":"integrations/auth/backstage/#backstage-configuration-app-configyaml","title":"\ud83d\udd27 Backstage Configuration (<code>app-config.yaml</code>)","text":"<p>Add the auth key to your <code>app-config.yaml</code> (or <code>app-config.local.yaml</code>):</p> YAML<pre><code>...\nbackend:\n  auth:\n    keys:\n      - secret: n4m/Mcfo7aX9JZ8G506+qoZnXyT8zbiI # secret for InfraKitchen, replace with your own\n\n...\n</code></pre>"},{"location":"integrations/auth/backstage/#infrakitchen-configuration","title":"\u2699\ufe0f InfraKitchen Configuration","text":"<p>To configure InfraKitchen to use the Backstage Identity Provider, you need to provide the following parameters in the auth provider settings:</p> <ol> <li>Private Key: The private key used to sign the JWT tokens. This should match the secret configured in Backstage.</li> <li>JWKs URL: The URL where Backstage exposes its JWKs. This is typically in the format: <code>http://&lt;BACKSTAGE_URL&gt;/api/auth/.well-known/jwks.json</code>.</li> </ol>"},{"location":"integrations/auth/github/","title":"GitHub","text":""},{"location":"integrations/auth/github/#github","title":"GitHub","text":""},{"location":"integrations/auth/github/#setting-up-single-sign-on-sso-with-github-for-infrakitchen","title":"\ud83d\udd27 Setting up Single Sign-On (SSO) with GitHub for InfraKitchen","text":"<p>GitHub SSO requires a GitHub App to be created. You can create a GitHub App in your organization or user account. Check out the official documentation Put the following settings in the GitHub App:</p> <ul> <li>Homepage URL: The URL of your InfraKitchen instance, e.g. <code>http://localhost:7777</code>.</li> <li>Authorization callback URL: The URL to authorize the GitHub App, e.g. <code>http://localhost:7777/api/auth/github/callback</code>.</li> </ul>"},{"location":"integrations/auth/github/#infrakitchen-configuration","title":"\u2699\ufe0f InfraKitchen Configuration","text":"<p>To configure InfraKitchen to use the GitHub App, you need to provide the following parameters in auth provider settings:</p> <ol> <li>Client ID: The Client ID of the GitHub App.</li> <li>Client Secret: The Client Secret of the GitHub App.</li> <li>Redirect URL: The URL to authorize the GitHub App. e.g. <code>http://localhost:7777/api/auth/github/callback</code></li> <li>Filter by domain: If you want to restrict access to users with a specific email domain, you can set this parameter. For example, if you want to allow only users with <code>@example.com</code> email addresses, set this parameter to <code>example.com</code>.</li> </ol>"},{"location":"integrations/auth/guest/","title":"Guest","text":""},{"location":"integrations/auth/guest/#guest","title":"Guest","text":"<p>The InfraKitchen Guest Authentication Provider is a non-production, development-focused identity solution. It allows users to gain access to the InfraKitchen UI and API with a predefined, shared identity without requiring external credentials (like GitHub or Microsoft).</p>"},{"location":"integrations/auth/guest/#purpose-of-guest-authentication","title":"\ud83d\udd13 Purpose of Guest Authentication","text":"<p>The Guest Provider is intended for local development, testing, and demonstration environments where rapid, simplified access is needed.</p> <p>For your Infrakitchen project, the Guest Provider can be configured to map to different identity roles, which, when combined with the Permission System (RBAC), simulates different access levels without needing real user accounts.</p> <p>In production environments allows to setting up proper authentication providers (like GitHub, Microsoft, Backstage, etc.) to ensure secure and individualized access control.</p>"},{"location":"integrations/auth/guest/#security-warning","title":"\u26a0\ufe0f Security Warning","text":"<p>The Guest Provider is inherently insecure for production use. It grants all users who select it a single, shared identity. Its primary purpose is to quickly test permission policies and UI behavior during development.</p>"},{"location":"integrations/auth/guest/#use-cases-for-infrakitchen-roles-in-development","title":"\ud83d\udc65 Use Cases for InfraKitchen Roles (in Development)","text":"<p>By configuring the Guest Provider's default identity to be a member of specific Catalog Groups, you can effectively simulate your <code>default</code>, <code>infra</code>, and <code>super</code> roles.</p> <ol> <li> <p>Simulating the <code>default</code> User Role (Base Access)    This is the standard use case for the Guest Provider.</p> </li> <li> <p>Simulating the <code>infra</code> Role (Platform Engineers)    This simulates a user with permissions for infrastructure operations.</p> </li> <li>Simulating the <code>super</code> Role (Admin/SRE)    This simulates the highest level of access for administrative tasks.</li> </ol>"},{"location":"integrations/auth/microsoft/","title":"Microsoft","text":""},{"location":"integrations/auth/microsoft/#microsoft","title":"Microsoft","text":""},{"location":"integrations/auth/microsoft/#microsoft-single-sign-on-setup-for-infrakitchen","title":"\ud83d\udd27 Microsoft Single Sign-On Setup for InfraKitchen","text":""},{"location":"integrations/auth/microsoft/#microsoft-entra-id-application-registration","title":"Microsoft Entra ID Application Registration","text":"<p>To enable Microsoft Single Sign-On (SSO), you must register a new application in the Azure Portal. This application will represent InfraKitchen to Microsoft Entra ID, allowing it to request authentication tokens.</p> <ol> <li>Log in to the Azure Portal: Navigate to the Azure Portal and search for Microsoft Entra ID.</li> <li>Create a New App Registration:<ul> <li>Go to App registrations &gt; + New registration.</li> <li>Enter a Name for your application (e.g., <code>InfraKitchen SSO</code>).</li> <li>For Supported account types, select the option that best fits your organization (e.g., Accounts in this organizational directory only - Single tenant).</li> </ul> </li> <li>Configure Redirect URI:<ul> <li>Under the Redirect URI section, select Web as the platform.</li> <li>Enter the Authorization callback URL for your InfraKitchen instance.<ul> <li>Example: <code>http://localhost:7777/api/auth/microsoft/callback</code></li> </ul> </li> </ul> </li> <li>Register the Application: Click Register.</li> <li>Gather Application Details: From the application's Overview page, copy and save the following values, which you will use in the InfraKitchen configuration:<ul> <li>Application (Client) ID</li> <li>Directory (Tenant) ID</li> </ul> </li> <li>Create a Client Secret:<ul> <li>Navigate to Certificates &amp; secrets in the left menu.</li> <li>Click + New client secret.</li> <li>Add a Description and choose an expiration period. Click Add.</li> <li>Crucially, copy the Value of the generated secret immediately. This value is your Client Secret and will be hidden once you navigate away from the page.</li> </ul> </li> </ol>"},{"location":"integrations/auth/microsoft/#infrakitchen-configuration","title":"\u2699\ufe0f InfraKitchen Configuration","text":"<p>To configure InfraKitchen to use the Microsoft Entra ID App Registration, you need to provide the following parameters in the auth provider settings, using the values you gathered from the Azure Portal:</p> <ol> <li>Client ID: The Application (Client) ID from the App Registration Overview.</li> <li>Client Secret: The Value of the Client Secret you generated and copied (not the Secret ID).</li> <li>Tenant ID: The Directory (Tenant) ID from the App Registration Overview.<ul> <li>Note: Providing the Tenant ID is a common way to scope the login to a specific Entra ID tenant (Single Tenant setup).</li> </ul> </li> <li>Redirect URL: The URL to authorize the Microsoft App, which must match the Redirect URI you configured in the Azure Portal. e.g., <code>http://localhost:7777/api/auth/microsoft/callback</code></li> <li>Filter by domain: If you want to restrict access to users with a specific email domain, you can set this parameter. For example, if you want to allow only users with <code>@infrakitchen.io</code> email addresses, set this parameter to <code>infrakitchen.io</code>.</li> </ol>"},{"location":"integrations/auth/overview/","title":"Overview","text":""},{"location":"integrations/auth/overview/#authentication-providers","title":"Authentication Providers","text":"<p>This section provides an overview of the various Authentication Providers integrated into our project, enabling users and services to securely access resources. These providers allow you to leverage existing identity systems, often referred to as Single Sign-On (SSO), to manage authentication.</p>"},{"location":"integrations/auth/overview/#available-integrations","title":"Available Integrations","text":"<p>We support a variety of authentication methods tailored to different use cases:</p> <p>Third-Party SSO Integrations: For external users and developers, we support popular identity platforms:</p> <ul> <li> <p>GitHub:   Allows authentication using existing GitHub accounts.</p> </li> <li> <p>Microsoft:   Enables login via Microsoft accounts (e.g., Azure AD, personal accounts).</p> </li> <li> <p>Backstage:   Integration for users coming from a Backstage environment, ensuring seamless identity flow.</p> </li> <li> <p>Service Account:   Used for non-interactive authentication, typically for automated tasks, services, or machine-to-machine communication, using long-lived credentials.</p> </li> <li> <p>Guest:   Provides a simple, unauthenticated way to access public or restricted-read resources without requiring a formal login.</p> </li> </ul>"},{"location":"integrations/auth/overview/#enabling-sso-or-disabling-authentication-methods","title":"Enabling SSO or Disabling Authentication Methods","text":"<p>To enable Single Sign-On (SSO) or disable authentication entirely, you need to configure the auth provider in InfraKitchen UI. This typically involves specifying the desired authentication provider and its parameters.</p>"},{"location":"integrations/auth/service-account/","title":"Service Account","text":""},{"location":"integrations/auth/service-account/#service-account","title":"Service Account","text":"<p>Service accounts in InfraKitchen are designed to facilitate machine-to-machine communication and automation within the InfraKitchen ecosystem. They provide a mechanism for external tools, scripts, and CI/CD pipelines to interact with InfraKitchen APIs without requiring an interactive user session.</p>"},{"location":"integrations/auth/service-account/#setup-steps","title":"Setup Steps","text":"<ol> <li>Navigate to auth providers and create an authProvider with type <code>ik_service_account</code></li> <li>Navigate to users and create a user</li> <li>Navigate to the newly created user and add desired permissions</li> </ol>"},{"location":"integrations/auth/service-account/#generate-token","title":"Generate Token","text":"<p>To generate the token, make a call to:</p> Bash<pre><code>curl --location 'https://INFRA_KITCHEN_URL/api/auth/service_account/token' \\\n--header 'Content-Type: application/json' \\\n--data '{\n \"identifier\": \"username\",\n \"password\": \"password\"\n}'\n</code></pre>"},{"location":"integrations/auth/service-account/#using-the-token","title":"Using the Token","text":"<p>You can then call the API as the service account by adding the authorization bearer token header to your requests:</p> Bash<pre><code>curl --location 'https://INFRA_KITCHEN_URL/api/your-endpoint' \\\n--header 'Authorization: Bearer YOUR_TOKEN_HERE' \\\n--header 'Content-Type: application/json'\n</code></pre>"},{"location":"integrations/cloud/aws/","title":"AWS","text":""},{"location":"integrations/cloud/aws/#aws","title":"AWS","text":"<p>Follow these steps to create and configure an AWS integration. Fill the required fields in the integration form (see Required fields at the end) and use Test Connection before saving.</p>"},{"location":"integrations/cloud/aws/#1-prepare-an-iam-principal","title":"1\ufe0f\u20e3 Prepare an IAM Principal","text":"<ol> <li>Log in to the AWS Console and open the IAM service.</li> <li>Create a new IAM user or reuse an existing one dedicated to this integration.<ul> <li>If creating a user: choose Programmatic access so you can generate an Access Key.</li> </ul> </li> <li>(Recommended) Create a dedicated user for InfraKitchen integrations rather than using a personal/root account.</li> </ol>"},{"location":"integrations/cloud/aws/#2-attach-permissions","title":"2\ufe0f\u20e3 Attach Permissions","text":"<ol> <li>Attach AWS managed policies or a custom policy that grants the permissions InfraKitchen needs.<ul> <li>If you plan to let the platform create/manage S3 buckets for remote state, include S3 permissions.</li> <li>If InfraKitchen will manage EC2/CloudFormation/Lambda/etc., include those permissions as required.</li> </ul> </li> <li>For a least-privilege setup, create and attach a custom policy scoped to only the resources InfraKitchen will manage.</li> </ol> <p>Tip: If you want InfraKitchen to create an S3 bucket for Terraform/OpenTofu remote state, ensure the policy allows <code>s3:CreateBucket</code>, <code>s3:PutObject</code>, <code>s3:GetObject</code>, <code>s3:ListBucket</code>, etc., scoped to the bucket name pattern you will use.</p>"},{"location":"integrations/cloud/aws/#3-recommended-use-role-assumption-for-better-security","title":"3\ufe0f\u20e3 (Recommended) Use Role Assumption for Better Security","text":"<ul> <li>Create an IAM role in the target AWS account with the permissions InfraKitchen requires.</li> <li>In the role\u2019s trust policy, allow the IAM user (or another account/principal) to assume the role. Example trust relationship snippet:</li> </ul> JSON<pre><code>{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Principal\": { \"AWS\": \"arn:aws:iam::ACCOUNT_ID:user/InfraKitchenUser\" },\n      \"Action\": \"sts:AssumeRole\"\n    }\n  ]\n}\n</code></pre> <ul> <li>On the IAM user that InfraKitchen will use, attach a policy allowing <code>sts:AssumeRole</code> for that role:</li> </ul> JSON<pre><code>{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Resource\": \"arn:aws:iam::TARGET_ACCOUNT_ID:role/RoleNameToAssume\"\n    }\n  ]\n}\n</code></pre> <ul> <li>When configured, supply the AWS Assumed Role Name (the role's name) in the integration form so InfraKitchen will assume that role at runtime.</li> </ul>"},{"location":"integrations/cloud/aws/#4-generate-access-keys","title":"4\ufe0f\u20e3 Generate Access Keys","text":"<ol> <li>For the IAM user you created (or the user designated to assume roles), go to Security credentials \u2192 Create access key.</li> <li> <p>Copy both values immediately: AWS Access Key ID and AWS Secret Access Key</p> </li> <li> <p>Store them securely \u2014 you will paste them into InfraKitchen\u2019s integration form.</p> </li> </ol>"},{"location":"integrations/cloud/aws/#5-fill-out-the-infrakitchen-integration-form","title":"5\ufe0f\u20e3 Fill Out the InfraKitchen Integration Form","text":"<p>InfraKitchen path: <code>/integrations/aws/setup</code></p> Field Description Example/Notes Integration Name A unique, descriptive name for the integration. E.g., <code>aws-production</code> Description (Optional) A short text describing this integration. Labels (Optional) Tags to categorize the integration. E.g., <code>production</code>, <code>dev</code>, <code>billing</code> AWS Account ID The 12-digit AWS account number. E.g., <code>123456789012</code> AWS Access Key ID Paste the generated Access Key ID. AWS Secret Access Key Paste the generated Secret Access Key. (Will be stored encrypted). AWS Assumed Role Name (Optional) The role name to assume if role assumption is set up. E.g., <code>InfraKitchenRole</code> Automatically create S3 bucket for OpenTofu/Terraform remote state Check this to automatically create an S3 bucket for remote state. Default bucket name: <code>infrakitchen-&lt;AWS_ACCOUNT_ID&gt;-bucket</code>. Default region: <code>us-east-1</code>."},{"location":"integrations/cloud/aws/#6-test-the-connection","title":"6\ufe0f\u20e3 Test the Connection","text":"<ol> <li>After completing the fields, click Test Connection.</li> <li>If the test succeeds, the credentials and permissions are valid.</li> <li> <p>If the test fails:</p> <ul> <li>Re-check the Access Key ID / Secret for typos.</li> <li>Verify the IAM user/role has the required permissions (including <code>sts:AssumeRole</code> if using a role).</li> <li>Confirm the AWS Account ID is correct and matches the account where the role/user exists.</li> </ul> </li> <li> <p>Save the integration once the test passes.</p> </li> </ol>"},{"location":"integrations/cloud/azure/","title":"Azure","text":""},{"location":"integrations/cloud/azure/#azure","title":"Azure","text":"<p>Follow these steps to integrate Microsoft Azure with InfraKitchen. This integration allows InfraKitchen to authenticate securely with Azure Resource Manager (ARM) to manage and automate your Azure infrastructure.</p>"},{"location":"integrations/cloud/azure/#1-log-in-to-the-azure-portal","title":"1\ufe0f\u20e3 Log in to the Azure Portal","text":"<ol> <li>Open https://portal.azure.com.</li> <li>From the left-hand menu, select Azure Active Directory.</li> </ol>"},{"location":"integrations/cloud/azure/#2-create-an-app-registration","title":"2\ufe0f\u20e3 Create an App Registration","text":"<ol> <li>In Azure Active Directory, navigate to App registrations.</li> <li>Click + New registration.</li> <li>Enter a descriptive name such as <code>InfraKitchen-Integration</code>.</li> <li>Choose Accounts in this organizational directory only (default).</li> <li>Leave the redirect URI blank (not required for this integration).</li> <li>Click Register.</li> </ol> <p>Once created, the overview page will show the following identifiers:</p> <ul> <li>Application (client) ID</li> <li>Directory (tenant) ID</li> </ul> <p>Note: Copy both the Client ID and Tenant ID \u2014 you will need them later in the InfraKitchen setup form.</p>"},{"location":"integrations/cloud/azure/#3-create-a-client-secret","title":"3\ufe0f\u20e3 Create a Client Secret","text":"<ol> <li>From your App Registration page, navigate to Certificates &amp; secrets.</li> <li>Under Client secrets, click + New client secret.</li> <li>Add a description (e.g., \u201cInfraKitchen access key\u201d).</li> <li>Set an expiration (recommended: 1 year or 2 years).</li> <li>Click Add.</li> <li>Copy the Value of the client secret immediately \u2014 this value will only be shown once.</li> </ol> <p>You will need this value for the <code>Client Secret</code> field in InfraKitchen.</p>"},{"location":"integrations/cloud/azure/#4-assign-roles-and-permissions","title":"4\ufe0f\u20e3 Assign Roles and Permissions","text":"<p>To allow InfraKitchen to manage Azure resources, the App Registration must have appropriate permissions:</p> <ol> <li>In the Azure Portal, navigate to Subscriptions (or the specific resource group you want to manage).</li> <li>Select the target subscription or resource group.</li> <li>Go to Access control (IAM) \u2192 Add role assignment.</li> <li>Choose a role appropriate to the level of access required, such as:<ul> <li>Contributor (recommended for full management)</li> <li>Reader (for read-only access)</li> </ul> </li> <li>In the Members tab, select User, group, or service principal.</li> <li>Search for your App Registration name and select it.</li> <li>Click Next and Assign.</li> </ol>"},{"location":"integrations/cloud/azure/#5-fill-out-the-infrakitchen-integration-form","title":"5\ufe0f\u20e3 Fill Out the InfraKitchen Integration Form","text":"<p>InfraKitchen path: <code>/integrations/azurerm/setup</code></p> <p>You should now have the following four key values ready:</p> Field Description Example Client ID The Application (client) ID from your App Registration <code>11111111-2222-3333-4444-555555555555</code> Subscription ID The Azure subscription ID where you assigned the role <code>66666666-7777-8888-9999-000000000000</code> Tenant ID The Directory (tenant) ID from your App Registration <code>aaaaaaaa-bbbb-cccc-dddd-eeeeeeeeeeee</code> Client Secret The secret value generated in Certificates &amp; Secrets <code>xYz12345SecretValueOnlyShownOnce</code>"},{"location":"integrations/cloud/azure/#6-test-the-connection","title":"6\ufe0f\u20e3 Test the Connection","text":"<ol> <li>After filling out all required fields, click Test Connection.</li> <li>InfraKitchen will attempt to authenticate to Azure Resource Manager using your credentials.</li> <li>If successful, a confirmation message will appear.</li> <li> <p>If it fails:</p> <ul> <li>Verify that the Client ID, Tenant ID, and Client Secret are correct.</li> <li>Ensure the App Registration has the proper IAM role on the target subscription.</li> <li>Check that the secret has not expired.</li> </ul> </li> </ol>"},{"location":"integrations/cloud/datadog/","title":"Datadog","text":""},{"location":"integrations/cloud/datadog/#datadog","title":"Datadog","text":"<p>Follow these steps to integrate Datadog with InfraKitchen. This integration allows InfraKitchen to use Datadog provider in your terraform/OpenTofu modules.</p>"},{"location":"integrations/cloud/datadog/#1-log-in-to-datadog","title":"1\ufe0f\u20e3 Log in to Datadog","text":"<ol> <li>Go to the Datadog Dashboard.</li> <li>Sign in using your organization credentials.</li> <li>Ensure you have Admin or API access privileges in your Datadog account.</li> </ol>"},{"location":"integrations/cloud/datadog/#2-navigate-to-api-key-settings","title":"2\ufe0f\u20e3 Navigate to API Key Settings","text":"<ol> <li>From the left sidebar, go to Organization Settings \u2192 API Keys (or click here).</li> <li>You\u2019ll see a list of existing API keys for your organization.</li> </ol>"},{"location":"integrations/cloud/datadog/#3-create-a-new-api-key","title":"3\ufe0f\u20e3 Create a New API Key","text":"<ol> <li>Click + New Key.</li> <li> <p>Give the key a descriptive name \u2014 for example: <code>infrakitchen-api-key</code></p> </li> <li> <p>Click Create API Key.</p> </li> <li>Copy the API Key value \u2014 you\u2019ll need this for the InfraKitchen configuration.</li> </ol>"},{"location":"integrations/cloud/datadog/#4-navigate-to-application-keys","title":"4\ufe0f\u20e3 Navigate to Application Keys","text":"<ol> <li>In the same API Keys page, switch to the Application Keys tab.    (You can also access it via https://app.datadoghq.com/organization-settings/application-keys)</li> <li>Click + New Key.</li> </ol>"},{"location":"integrations/cloud/datadog/#5-create-an-application-key","title":"5\ufe0f\u20e3 Create an Application Key","text":"<ol> <li> <p>Enter a descriptive name \u2014 e.g.: <code>infrakitchen-app-key</code></p> </li> <li> <p>Optionally, assign the key to a specific user (recommended for auditing).</p> </li> <li>Click Create Application Key.</li> <li>Copy the Application Key value.</li> </ol>"},{"location":"integrations/cloud/datadog/#6-collect-required-information","title":"6\ufe0f\u20e3 Collect Required Information","text":"<p>Before proceeding, make sure you have:</p> Required Value Description API Key Used for authenticating API requests from InfraKitchen to Datadog APP Key Allows InfraKitchen to access dashboards, monitors, and metric data Datadog API URL Usually <code>https://datadoghq.com</code> (but may vary, e.g. <code>https://datadoghq.eu</code>, <code>https://us3.datadoghq.com</code>, etc.)"},{"location":"integrations/cloud/datadog/#7-fill-out-the-infrakitchen-integration-form","title":"7\ufe0f\u20e3 Fill Out the InfraKitchen Integration Form","text":"<p>InfraKitchen path: <code>/integrations/datadog/setup</code></p> <p>Then fill in the following fields:</p> Field Description Integration Name A unique name for this integration (e.g., <code>datadog-prod</code>) Description Brief description of your Datadog environment Labels Add tags like <code>observability</code>, <code>monitoring</code>, or <code>prod</code> Datadog Site URL Domain of your Datadog instance (e.g. <code>https://datadoghq.com</code>) API Key The API key you created in Step 3 Application Key The Application key you created in Step 5"},{"location":"integrations/cloud/datadog/#8-test-the-connection","title":"8\ufe0f\u20e3 Test the Connection","text":"<ol> <li>Click Test Connection.</li> <li>InfraKitchen will attempt to connect to Datadog\u2019s API endpoint using the keys provided.</li> <li>If successful, you\u2019ll see a confirmation message.</li> <li> <p>If the test fails, verify:</p> </li> <li> <p>The API Key and Application Key are correct.</p> </li> <li>The Datadog Site URL matches your region.</li> <li>The Application Key user has sufficient permissions.</li> </ol>"},{"location":"integrations/cloud/gcp/","title":"Google Cloud","text":""},{"location":"integrations/cloud/gcp/#google-cloud","title":"Google Cloud","text":"<p>Follow these steps to integrate Google Cloud Platform (GCP) with InfraKitchen. This integration enables InfraKitchen to manage your GCP resources, automate deployments, and optionally create remote storage for OpenTofu/Terraform state management.</p>"},{"location":"integrations/cloud/gcp/#1-log-in-to-google-cloud-console","title":"1\ufe0f\u20e3 Log in to Google Cloud Console","text":"<ol> <li>Open https://console.cloud.google.com.</li> <li>Make sure you\u2019re in the correct project or create a new one for InfraKitchen.</li> <li>Note down your Project ID \u2014 you\u2019ll need this later in the setup form.</li> </ol>"},{"location":"integrations/cloud/gcp/#2-create-a-service-account","title":"2\ufe0f\u20e3 Create a Service Account","text":"<ol> <li>In the Google Cloud Console, navigate to IAM &amp; Admin \u2192 Service Accounts.</li> <li>Click + CREATE SERVICE ACCOUNT.</li> <li>Enter a name such as <code>infrakitchen-integration</code>.</li> <li>Optionally, add a description (e.g., \u201cInfraKitchen GCP integration account\u201d).</li> <li>Click Create and Continue.</li> </ol>"},{"location":"integrations/cloud/gcp/#3-assign-permissions-to-the-service-account","title":"3\ufe0f\u20e3 Assign Permissions to the Service Account","text":"<ol> <li> <p>On the \u201cGrant this service account access\u201d step, assign roles that match what InfraKitchen should manage.    Common roles include:</p> </li> <li> <p>Viewer \u2013 read-only access</p> </li> <li>Editor \u2013 full project-level management</li> <li>Storage Admin \u2013 required if InfraKitchen will manage or create GCS buckets (for Terraform remote state)</li> <li>Compute Admin \u2013 if InfraKitchen will manage compute instances</li> <li> <p>Service Account User \u2013 if InfraKitchen needs to deploy or impersonate other service accounts</p> </li> <li> <p>Click Continue and Done.</p> </li> </ol> <p>You can add or modify roles later in the IAM permissions page if needed.</p>"},{"location":"integrations/cloud/gcp/#4-generate-a-service-account-key-json","title":"4\ufe0f\u20e3 Generate a Service Account Key (JSON)","text":"<ol> <li>From the list of service accounts, click the newly created one.</li> <li>Go to the Keys tab.</li> <li>Click Add Key \u2192 Create new key.</li> <li>Choose JSON as the key type and click Create.</li> <li>The JSON key file will be downloaded automatically \u2014 store it securely.</li> <li>You\u2019ll need the full JSON content for the InfraKitchen configuration.</li> </ol>"},{"location":"integrations/cloud/gcp/#5-enable-required-apis","title":"5\ufe0f\u20e3 Enable Required APIs","text":"<p>InfraKitchen requires certain GCP APIs to be enabled for management tasks. In the Google Cloud Console, navigate to APIs &amp; Services \u2192 Library and enable at least:</p> <ul> <li>Cloud Resource Manager API</li> <li>Compute Engine API (if managing compute resources)</li> <li>Cloud Storage API (if using remote state storage)</li> <li>IAM API</li> </ul>"},{"location":"integrations/cloud/gcp/#6-fill-out-the-infrakitchen-integration-form","title":"6\ufe0f\u20e3 Fill Out the InfraKitchen Integration Form","text":"<p>InfraKitchen path: <code>/integrations/gcp/setup</code></p> <p>In InfraKitchen, go to Integrations \u2192 Cloud \u2192 Google Cloud and complete the fields:</p> Field Description Integration Name A unique name for this integration (e.g., <code>gcp-production</code>) Description A short description of your integration Labels Add labels such as <code>production</code>, <code>gcp</code>, <code>terraform</code> GCP Project ID Your GCP project\u2019s unique ID GCP Service Account Key Paste the entire JSON key content you downloaded earlier Automatically create storage for OpenTofu/Terraform remote state When enabled, InfraKitchen will create a GCS bucket for remote state"},{"location":"integrations/cloud/gcp/#7-test-the-connection","title":"7\ufe0f\u20e3 Test the Connection","text":"<ol> <li>After entering all required fields, click Test Connection.</li> <li>InfraKitchen will verify the Service Account credentials and API access.</li> <li> <p>If the connection test fails:</p> </li> <li> <p>Ensure the Service Account Key JSON is correctly formatted and valid.</p> </li> <li>Confirm that the required APIs are enabled.</li> <li>Check that the roles assigned to the Service Account include the necessary permissions.</li> </ol>"},{"location":"integrations/cloud/mongodb/","title":"MongoDB Atlas","text":""},{"location":"integrations/cloud/mongodb/#mongodb-atlas","title":"MongoDB Atlas","text":"<p>Follow these steps to integrate MongoDB with InfraKitchen. This integration allows InfraKitchen to connect to your MongoDB databases \u2014 hosted either on MongoDB Atlas or self-managed clusters \u2014 to monitor, automate, and manage database-related operations.</p>"},{"location":"integrations/cloud/mongodb/#1-log-in-to-mongodb-atlas","title":"1\ufe0f\u20e3 Log in to MongoDB Atlas","text":"<ol> <li>Go to https://cloud.mongodb.com and sign in.</li> <li>Navigate to Identity &amp; Access -&gt; Applications.</li> <li>Navigate to API Keys.</li> <li>Click Add New API Key.</li> </ol>"},{"location":"integrations/cloud/mongodb/#2-create-an-api-key","title":"2\ufe0f\u20e3 Create an API Key","text":"<ol> <li>Provide a description for the API key (e.g., <code>InfraKitchen Integration Key</code>).</li> <li>Assign the following roles to the API key:</li> <li>Organization Owner or Project Owner \u2013 full administrative control (use with caution).</li> <li> <p>Add Access List Entries to restrict the API key to specific IP addresses (optional but recommended).</p> </li> <li> <p>Add the IP address or CIDR block for InfraKitchen (or <code>0.0.0.0/0</code> for testing only).</p> </li> <li> <p>Copy both:</p> </li> <li> <p>Public Key</p> </li> <li> <p>Private Key</p> </li> <li> <p>Click Done.</p> </li> </ol>"},{"location":"integrations/cloud/mongodb/#3-fill-out-the-infrakitchen-integration-form","title":"3\ufe0f\u20e3 Fill Out the InfraKitchen Integration Form","text":"<p>InfraKitchen path: <code>/integrations/mongodb_atlas/setup</code></p> Field Description Integration Name Unique name for this integration (e.g., <code>mongodb-prod</code>) Description Short description of your MongoDB environment Labels Add labels such as <code>production</code>, <code>mongodb</code>, <code>atlas</code> MongoDB Atlas Org ID Paste your MongoDB Organization ID MongoDB Atlas Public Key Public KEY copied in previous step MongoDB Atlas Private Key Private KEY copied in previous step"},{"location":"integrations/cloud/mongodb/#4-test-the-connection","title":"4\ufe0f\u20e3 Test the Connection","text":"<ol> <li>Click Test Connection to validate your configuration.</li> <li>InfraKitchen will attempt to connect using your provided credentials and URI.</li> <li> <p>If the test fails:</p> </li> <li> <p>Verify your Public/Private keys are correct.</p> </li> <li>Ensure your IP or network is whitelisted in API Access List.</li> </ol>"},{"location":"integrations/cloud/overview/","title":"Overview","text":""},{"location":"integrations/cloud/overview/#cloud-providers","title":"Cloud Providers","text":"<p>This section provides an overview of how the platform integrates with leading cloud providers. Each integration allows you to connect, manage, and automate workloads across different cloud environments using a consistent interface and unified tooling.</p>"},{"location":"integrations/cloud/overview/#supported-cloud-providers","title":"Supported Cloud Providers","text":"<p>The following cloud providers are currently supported:</p> <ul> <li> <p>AWS (Amazon Web Services)   Connect and manage AWS resources including EC2, S3, Lambda, and more.</p> </li> <li> <p>Azure (Microsoft Azure)   Seamlessly integrate with Azure services such as Virtual Machines, Storage Accounts, and Azure Functions.</p> </li> <li> <p>Google Cloud (GCP)   Manage Google Cloud resources like Compute Engine, Cloud Storage, and Cloud Functions.</p> </li> <li> <p>MongoDB   Integrate with MongoDB Atlas for automation and management of your database clusters.</p> </li> <li> <p>Datadog   Connect to Datadog for configuration to monitor your cloud infrastructure and applications.</p> </li> </ul>"},{"location":"integrations/git/azure-devops/","title":"Azure DevOps","text":""},{"location":"integrations/git/azure-devops/#azure-devops","title":"Azure DevOps","text":"<p>Follow these steps to integrate Azure DevOps with InfraKitchen. This integration enables InfraKitchen to connect with your Azure DevOps organization for repositories.</p>"},{"location":"integrations/git/azure-devops/#1-log-in-to-azure-devops","title":"1\ufe0f\u20e3 Log in to Azure DevOps","text":"<ol> <li>Go to https://dev.azure.com or to the link used by your organization.</li> <li>Sign in using your Microsoft account credentials.</li> </ol>"},{"location":"integrations/git/azure-devops/#2-get-your-azure-devops-organization-name","title":"2\ufe0f\u20e3 Get Your Azure DevOps Organization Name","text":"<ol> <li> <p>Once signed in, look at the URL in your browser.    It will look like: <code>https://dev.azure.com/&lt;organization-name&gt;/</code></p> </li> <li> <p>Copy the organization name \u2014 this is required in the InfraKitchen configuration.</p> </li> </ol>"},{"location":"integrations/git/azure-devops/#3-generate-a-personal-access-token-pat","title":"3\ufe0f\u20e3 Generate a Personal Access Token (PAT)","text":"<ol> <li>Go to User settings \u2192 Personal access tokens \u2192 New Token in your Azure DevOps account.</li> <li> <p>Enter a descriptive name such as: <code>InfraKitchen Integration Token</code></p> </li> <li> <p>Set an Expiration \u2014 e.g., 90 or 180 days (depending on your security policy).</p> </li> <li>Assign permissions in the Scopes section. Code (Read, write &amp; manage) is required for repository access.</li> </ol>"},{"location":"integrations/git/azure-devops/#4-fill-out-the-infrakitchen-integration-form","title":"4\ufe0f\u20e3 Fill Out the InfraKitchen Integration Form","text":"<p>InfraKitchen path: <code>/integrations/azure_devops/setup</code></p> Field Description Integration Name A unique name for this integration (e.g., <code>azure-devops-prod</code>) Description A short description for your integration Labels Add tags such as <code>ci-cd</code>, <code>devops</code>, or <code>infra</code> Azure Organization Your Azure DevOps organization name (e.g., <code>infrakitchen</code>) Azure Access Token The PAT generated in Step 3"},{"location":"integrations/git/azure-devops/#5-test-the-connection","title":"5\ufe0f\u20e3 Test the Connection","text":"<p>Click Test Connection in the InfraKitchen setup form. InfraKitchen will use your Organization Name and PAT to validate API access.</p> <p>If the test fails:</p> <ul> <li>Ensure your PAT hasn\u2019t expired and includes required scopes.</li> <li>Verify that the Organization Name matches exactly as shown in the URL.</li> </ul>"},{"location":"integrations/git/azure-devops/#azure-devops-ssh","title":"\ud83d\udd10 Azure DevOps SSH","text":"<p>InfraKitchen can also use SSH to connect to your DevOps repositories.</p>"},{"location":"integrations/git/bitbucket/","title":"Bitbucket","text":""},{"location":"integrations/git/bitbucket/#bitbucket","title":"Bitbucket","text":"<p>This document provides instructions on how to set up Bitbucket API integration for InfraKitchen to enable repository access, branch management, and optional pull request creation within your automation pipelines.</p>"},{"location":"integrations/git/bitbucket/#1-go-to-bitbucket-api-tokens","title":"1\ufe0f\u20e3 Go to Bitbucket API Tokens","text":"<ol> <li>Log in to Atlassian and navigate to your account security settings.</li> <li>Go to the API tokens page.</li> <li>API Token creation page</li> <li>Click Create API token.</li> </ol>"},{"location":"integrations/git/bitbucket/#2-name-your-token-and-set-permissions","title":"2\ufe0f\u20e3 Name Your Token and Set Permissions","text":"<p>Give your token a clear, descriptive Label \u2014 for example:</p> Text Only<pre><code>```\nInfraKitchen Integration\n```\n</code></pre> <p>This helps identify its purpose later when rotating or revoking tokens.</p> <p>Under Permissions, grant the necessary scopes for InfraKitchen to function.</p>"},{"location":"integrations/git/bitbucket/#scopes-for-repository-read-access","title":"Scopes for Repository Read Access","text":"<p>To allow InfraKitchen to read repositories, fetch configurations, and index repositories, grant at least the following Read scopes:</p> Scope Description read:project:bitbucket Allows InfraKitchen to read project details. read:repository:bitbucket Allows InfraKitchen to read repository files and configurations. read:user:bitbucket Required for identifying the user associated with the token. read:workspace:bitbucket Required for InfraKitchen to identify and index repositories."},{"location":"integrations/git/bitbucket/#scopes-for-pull-request-management","title":"Scopes for Pull Request Management","text":"<p>If InfraKitchen will create pull requests or manage branches, also enable the following Write scopes:</p> Scope Description read:pullrequest:bitbucket Allows InfraKitchen to read pull request details. write:pullrequest:bitbucket Allows InfraKitchen to open pull requests automatically. write:repository:bitbucket Allows InfraKitchen to create/manage branches and update repositories. <p>Click Create. Copy the generated token immediately as you won't be able to see it again.</p>"},{"location":"integrations/git/bitbucket/#3-add-the-token-to-infrakitchen","title":"3\ufe0f\u20e3 Add the Token to InfraKitchen","text":"<p>InfraKitchen path: <code>/integrations/bitbucket/setup</code></p> Field Description Integration Name A unique name for this integration (e.g., <code>bitbucket-prod</code>) Description A short description (e.g., \u201cInfraKitchen Bitbucket integration for IaC repos\u201d) Labels Tags such as <code>bitbucket</code>, <code>repository</code>, or <code>infra</code> User Email User email associated with the Bitbucket account Bitbucket API Token Paste the API Token you generated from Atlassian"},{"location":"integrations/git/bitbucket/#4-test-the-connection","title":"4\ufe0f\u20e3 Test the Connection","text":"<p>Click Test Connection in the InfraKitchen setup form. InfraKitchen will validate the Bitbucket API token and its access scopes. If the connection fails:</p> <ul> <li>Verify the token is correct and not expired.</li> <li>Ensure the required scopes (<code>read:project</code>, <code>read:repository</code>, etc.) are correctly enabled on the token.</li> <li>If using optional features, confirm the necessary Write scopes are present.</li> </ul>"},{"location":"integrations/git/bitbucket/#bitbucket-ssh-alternative-connection-method","title":"\ud83d\udd10 Bitbucket SSH (Alternative Connection Method)","text":"<p>InfraKitchen can also use SSH to connect to your Bitbucket repositories. This typically involves generating an SSH key pair and adding the public key to your Bitbucket account settings, which is an alternative to using an API Token for repository access.</p>"},{"location":"integrations/git/github/","title":"GitHub","text":""},{"location":"integrations/git/github/#github","title":"GitHub","text":"<p>Integrate GitHub with InfraKitchen to enable repository access. This integration allows InfraKitchen to read repositories, fetch configurations, and optionally create pull requests as part of your automation pipelines.</p>"},{"location":"integrations/git/github/#1-go-to-github-personal-access-tokens","title":"1\ufe0f\u20e3 Go to GitHub Personal Access Tokens","text":"<ol> <li>Log in to GitHub.</li> <li>Click your profile icon in the top-right corner \u2192 Settings.</li> <li>In the left sidebar, navigate to Developer settings \u2192 Personal access tokens \u2192 Tokens (classic) or Fine-grained tokens.</li> <li>Click Generate new token (choose Fine-grained token if possible for better security).</li> </ol>"},{"location":"integrations/git/github/#2-name-your-token","title":"2\ufe0f\u20e3 Name Your Token","text":"<p>Give your token a clear, descriptive name \u2014 for example:</p> Text Only<pre><code>InfraKitchen Integration\n</code></pre> <p>This helps identify its purpose later when rotating or revoking tokens. Set expiration according to your organization\u2019s security policies.</p>"},{"location":"integrations/git/github/#3-set-repository-permissions","title":"3\ufe0f\u20e3 Set Repository Permissions","text":"<p>Under Repository permissions, grant at least the following:</p> Permission Level Description Contents Read Allows InfraKitchen to read repository files and configurations Metadata Read Required for InfraKitchen to identify and index repositories <p>If InfraKitchen will create pull requests, also enable:</p> Permission Level Description Pull requests Write Allows InfraKitchen to open pull requests automatically"},{"location":"integrations/git/github/#4-add-the-token-to-infrakitchen","title":"4\ufe0f\u20e3 Add the Token to InfraKitchen","text":"<p>InfraKitchen path: <code>/integrations/github/setup</code></p> Field Description Integration Name A unique name for this integration (e.g., <code>github-prod</code>) Description A short description (e.g., \u201cInfraKitchen GitHub integration for IaC repos\u201d) Labels Tags such as <code>github</code>, <code>repository</code>, or <code>infra</code> GitHub Token Paste the Personal Access Token you generated"},{"location":"integrations/git/github/#5-test-the-connection","title":"5\ufe0f\u20e3 Test the Connection","text":"<p>Click Test Connection in the InfraKitchen setup form. InfraKitchen will validate the GitHub token and access scope.</p> <p>If the connection fails:</p> <ul> <li>Verify the token is correct and not expired.</li> <li>Ensure the repository access matches your target repos.</li> <li>Confirm the Contents and Metadata permissions are enabled.</li> </ul>"},{"location":"integrations/git/github/#github-ssh-alternative-connection-method","title":"\ud83d\udd10 GitHub SSH (Alternative Connection Method)","text":"<p>InfraKitchen can also use SSH to connect to your GitHub repositories. This typically involves generating an SSH key pair and adding the public key to your GitHub account settings, which is an alternative to using an API Token for repository access.</p>"},{"location":"integrations/git/gitlab/","title":"GitLab","text":""},{"location":"integrations/git/gitlab/#gitlab","title":"GitLab","text":"<p>Integrate GitLab with InfraKitchen to enable repository access. This integration allows InfraKitchen to read repositories and fetch configurations. Creating merge requests as part of your automation pipelines is not yet implemented.</p>"},{"location":"integrations/git/gitlab/#1-get-a-token-from-gitlab-cloud-or-private","title":"1\ufe0f\u20e3 Get a Token From GitLab (Cloud or Private)","text":"<p>The Personal Access Token way:</p> <p>This is the simplest way to import modules from projects the user has access.</p> <ol> <li>Log in to GitLab or your own private instance.</li> <li>Click your profile icon in the top-left corner \u2192 Edit Profile.</li> <li>In the left sidebar, navigate to Personal access tokens.</li> <li>Click Add new token.</li> </ol> <p>The Group (or Project) Access Token way:</p> <p>Choose this method if you prefer to restrict access to a particular group of projects on GitLab regardless the access your user may have.</p> <ol> <li>Log in to GitLab or your own private instance.</li> <li>Click on a group you want InfraKitchen to access.</li> <li>In the left sidebar, click on Settings \u2192 Access tokens.</li> <li>Click Add new token.</li> </ol>"},{"location":"integrations/git/gitlab/#2-name-your-token","title":"2\ufe0f\u20e3 Name Your Token","text":"<p>Give your token a clear, descriptive name \u2014 for example:</p> Text Only<pre><code>InfraKitchen Integration\n</code></pre> <p>This helps identify its purpose later when rotating or revoking tokens. Set expiration according to your organization\u2019s security policies.</p>"},{"location":"integrations/git/gitlab/#3-set-scopes","title":"3\ufe0f\u20e3 Set Scopes","text":"<p>Under Select scopes, grant at least the following:</p> Scope Description read_repository Allows InfraKitchen to read repository files and configurations read_api Required for InfraKitchen to identify and index repositories <p>Instead, if InfraKitchen will also create merge requests:</p> Scope Description api Allows InfraKitchen to open merge requests automatically write_repository Allows InfraKitchen to open merge requests automatically <p>Specific to Group or Project access tokens:</p> <ul> <li>Select a role fitting the use case (most of the time <code>Developer</code>).</li> </ul>"},{"location":"integrations/git/gitlab/#4-add-the-token-to-infrakitchen","title":"4\ufe0f\u20e3 Add the Token to InfraKitchen","text":"<p>InfraKitchen path: <code>/integrations/gitlab/setup</code></p> Field Description Integration Name A unique name for this integration (e.g., <code>gitlab-cloud-prod</code>) Description A short description (e.g., \u201cInfraKitchen GitLab Cloud integration for IaC repos\u201d) Labels Tags such as <code>gitlab</code>, <code>repository</code>, or <code>infra</code> GitLab Server URL The URL to our own instance, or let it to its default for GitLab Cloud GitLab Token Paste the Access Token you generated"},{"location":"integrations/git/gitlab/#5-test-the-connection","title":"5\ufe0f\u20e3 Test the Connection","text":"<p>Click Test Connection in the InfraKitchen setup form. InfraKitchen will validate the GitLab token and access scope.</p> <p>If the connection fails:</p> <ul> <li>Verify the token is correct and not expired.</li> <li>Confirm the scopes are matching what's described in step 3.</li> </ul>"},{"location":"integrations/git/gitlab/#gitlab-ssh-alternative-connection-method","title":"\ud83d\udd10 GitLab SSH (Alternative Connection Method)","text":"<p>SSH-based access is not recommended and not yet implemented.</p>"},{"location":"integrations/git/overview/","title":"Overview","text":""},{"location":"integrations/git/overview/#git-providers","title":"Git Providers","text":"<p>InfraKitchen integrates seamlessly with your existing Git workflows, supporting providers such as GitHub, GitLab, Bitbucket, and Azure DevOps.</p> <p>InfraKitchen enables two powerful workflows for infrastructure management:</p> <ul> <li> <p>First, you can maintain your infrastructure modules as version-controlled templates in your Git repositories. InfraKitchen imports these templates, ensuring that your organization\u2019s best practices and standards are consistently applied across all projects.</p> </li> <li> <p>Second, when developers design new infrastructure blueprints using these templates, InfraKitchen automatically generates the required code and opens pull requests in your designated Git workspace or repository. This process allows your team to review, discuss, and approve infrastructure changes using familiar Git-based collaboration and CI/CD pipelines.</p> </li> </ul> <p>By leveraging your Git provider, InfraKitchen brings transparency, traceability, and automation to your infrastructure lifecycle, making it easy to manage changes and maintain compliance across environments.</p>"},{"location":"operations/batch_operations/","title":"Batch Operations","text":""},{"location":"operations/batch_operations/#batch-operations","title":"Batch Operations","text":""},{"location":"operations/batch_operations/#overview","title":"Overview","text":"<p>Batch operations let you run the same action across multiple resources or executors at once. They are created by selecting entities and choosing a bulk action.</p> <p>Available only for Super Admins</p> <p>Batch operations are currently restricted to Super Admin users only.</p>"},{"location":"operations/batch_operations/#actions","title":"Actions","text":"<p>Batch operations currently support:</p> <ul> <li>Plan (dry run)</li> <li>Execute</li> </ul>"},{"location":"operations/batch_operations/#error-handling","title":"Error Handling","text":"<p>If some entities cannot be processed, the response includes <code>error_entity_ids</code> with the entity ID and the reason (for example, an invalid state for the requested action).</p>"},{"location":"operations/feature_flags/","title":"Feature Flags","text":""},{"location":"operations/feature_flags/#feature-flags","title":"Feature Flags","text":""},{"location":"operations/feature_flags/#approval-flow","title":"Approval Flow","text":"<p>Feature flags can be used to enable or disable the approval flow for resource provisioning requests. When enabled, requests will require approval from designated approvers before proceeding.</p>"},{"location":"operations/feature_flags/#demo-mode","title":"Demo Mode","text":"<p>Demo mode can be toggled via a feature flag to allow users to explore InfraKitchen's capabilities without making actual changes to infrastructure. This is useful for training and demonstrations.</p>"},{"location":"operations/feature_flags/#websockets","title":"Websockets","text":"<p>Websocket support can be enabled or disabled using a feature flag. When enabled, users will receive real-time updates on the status of their provisioning requests.</p>"},{"location":"operations/kubernetes/","title":"Kubernetes","text":""},{"location":"operations/kubernetes/#kubernetes","title":"Kubernetes","text":"<p>InfraKitchen provides Kubernetes integration for managing containerized applications and infrastructure workflows. This allows you to deploy, scale, and operate InfraKitchen components directly on your Kubernetes cluster.</p>"},{"location":"operations/kubernetes/#key-features","title":"\ud83d\ude80 Key Features","text":"<ul> <li>Deploy InfraKitchen backend, scheduler, and worker as Kubernetes Deployments.</li> <li>Use Kubernetes Secrets to securely manage sensitive configuration (JWT, encryption keys, database passwords).</li> <li>Integrate with existing PostgreSQL and RabbitMQ services.</li> <li>Expose InfraKitchen via Kubernetes Service and Ingress for internal or external access.</li> <li>Scale components independently using native Kubernetes controls.</li> </ul>"},{"location":"operations/kubernetes/#getting-started","title":"\ud83c\udfc1 Getting Started","text":"<p>For step-by-step deployment instructions, see the Getting Started: Kubernetes Deployment page.</p>"},{"location":"operations/kubernetes/#best-practices","title":"\ud83d\udca1 Best Practices","text":"<ul> <li>Use resource limits and requests to optimize scheduling and reliability.</li> <li>Store secrets securely and rotate them as needed.</li> <li>Monitor health and logs using Kubernetes probes and logging tools.</li> <li>Use Ingress with TLS for secure access.</li> </ul> <p>Kubernetes integration makes it easy to run InfraKitchen in modern cloud-native environments, leveraging the power and flexibility of container orchestration.</p>"},{"location":"operations/mcp/","title":"MCP Support","text":""},{"location":"operations/mcp/#mcp-support","title":"MCP Support","text":"<p>InfraKitchen optionally supports the Model Context Protocol (MCP), exposing a streamable HTTP MCP server for easy integration with your favorite MCP client, such as Claude Cursor, or any MCP-compatible agent.</p>"},{"location":"operations/mcp/#configuration","title":"Configuration","text":"<p>MCP is disabled by default. To enable it, set <code>MCP_ENABLED</code> in your environment or <code>.env</code> file:</p> <p>```env MCP_ENABLED=true</p> <p>This exposes a streamable HTTP MCP endpoint at /api/mcp. Authentication</p> <p>The MCP endpoint requires authentication via a service account. The data and actions available through MCP mirror the permissions of the authenticating service account.</p>"},{"location":"operations/activity/audit/","title":"Audit Logs","text":""},{"location":"operations/activity/audit/#audit-logs","title":"Audit Logs","text":"<p>Audit logs provide comprehensive tracking of all user actions and entity changes in InfraKitchen, enabling compliance, security monitoring, and operational transparency.</p>"},{"location":"operations/activity/audit/#overview","title":"\ud83d\udcdd Overview","text":"<p>InfraKitchen automatically records audit logs for every significant action performed on entities within the system. These logs capture who performed an action, what was changed, and when it occurred, providing a complete audit trail for compliance and troubleshooting purposes.</p> <p>Automatic Logging</p> <p>Audit logs are created automatically whenever a user interacts with entities\u2014you don't need to configure anything. All actions are tracked by default.</p>"},{"location":"operations/activity/audit/#audit-log-structure","title":"\ud83d\udccb Audit Log Structure","text":"<p>Each audit log entry contains the following information:</p> Field Description Time When the action was performed (timestamp) User The user who performed the action (display name and ID) Event The action type (e.g., create, update, execute, approve) Entity ID The unique identifier of the affected entity Model The entity type (e.g., resource, template, integration) Audit Log ID Unique identifier for the audit log entry itself"},{"location":"operations/activity/audit/#viewing-audit-logs","title":"\ud83d\udc41\ufe0f Viewing Audit Logs","text":""},{"location":"operations/activity/audit/#global-audit-logs","title":"Global Audit Logs","text":"<p>Access all audit logs across the system from the Administration section:</p> <ol> <li>Navigate to Administration \u2192 Audit Log in the sidebar</li> <li>View the complete audit trail of all actions</li> <li>Filter by event type using the dropdown</li> <li>Sort by any column (time, user, event)</li> </ol>"},{"location":"operations/activity/audit/#entity-specific-audit-logs","title":"Entity-Specific Audit Logs","text":"<p>View audit logs for a specific entity:</p> <ol> <li>Navigate to any entity (resource, template, integration, etc.)</li> <li>Click the Activity button</li> <li>Select the Audit tab</li> <li>View all actions performed on that specific entity</li> </ol>"},{"location":"operations/activity/audit/#event-types","title":"Event Types","text":"<p>Global audit logs can be filtered by event types:</p> Event Description create Entity was created update Entity was modified delete Entity was deleted execute Action was executed approve Resource change was approved reject Resource change was rejected destroy Resource infrastructure was destroyed recreate Destroyed/rejected resource was recreated retry Failed operation was retried sync Entity was synchronized enable Entity was enabled disable Entity was disabled dryrun Plan operation was performed"},{"location":"operations/activity/audit/#correlation-with-execution-logs","title":"\ud83d\udd17 Correlation with Execution Logs","text":"<p>Audit logs are automatically correlated with execution logs through a <code>trace_id</code>:</p> <ol> <li>When an action creates an audit log, the audit log ID is stored as <code>trace_id</code></li> <li>Any execution logs generated during that action reference the same <code>trace_id</code></li> <li>This allows you to see both what was done (audit) and how it was done (execution logs)</li> </ol> <p>Example flow:</p> Text Only<pre><code>User executes resource\n  \u2514\u2500&gt; Audit log created (action: \"execute\", trace_id: abc-123)\n       \u2514\u2500&gt; Execution begins\n            \u2514\u2500&gt; Logs written with trace_id: abc-123\n</code></pre> <p>This enables complete traceability from user action to system execution.</p>"},{"location":"operations/activity/logs/","title":"Execution Logs","text":""},{"location":"operations/activity/logs/#execution-logs","title":"Execution Logs","text":"<p>Execution logs capture the detailed output (stdout/stderr) from operations performed on entities. These logs provide real-time visibility into what happens during provisioning, synchronization, and other operations.</p>"},{"location":"operations/activity/logs/#overview","title":"\ud83d\udcdd Overview","text":"<p>When you execute operations like provisioning a resource or syncing source code, InfraKitchen captures all output in execution logs. Each execution is timestamped and correlated with an audit log entry through a <code>trace_id</code>.</p>"},{"location":"operations/activity/logs/#viewing-execution-logs","title":"\ud83d\udc41\ufe0f Viewing Execution Logs","text":"<p>Access execution logs for an entity:</p> <ol> <li>Navigate to the entity</li> <li>Click the Activity button</li> <li>Select the Logs tab</li> <li>Choose an execution from the dropdown to view its logs</li> </ol> <p>The logs interface shows:</p> <ul> <li>Execution dropdown \u2014 Select from recent executions (displays timestamp and action)</li> <li>Revision button \u2014 View the entity configuration at the time of execution</li> <li>Log viewer \u2014 Real-time scrollable log output with ANSI color support</li> </ul>"},{"location":"operations/activity/logs/#log-structure","title":"\ud83d\udccb Log Structure","text":"<p>Each log entry contains:</p> Field Description Entity ID The entity that generated the log Entity Type The type of entity (resource, source_code, etc.) Revision The configuration revision used during execution Level Log severity (info, warning, error, header) Data The actual log message or output Created At When the log entry was created Execution Start Timestamp identifying the execution session Trace ID Links the log to its originating audit log entry"},{"location":"operations/activity/logs/#log-retention","title":"\ud83d\udd50 Log Retention","text":"<p>Logs have different retention policies:</p> <ul> <li>Standard logs \u2014 Retained indefinitely for historical reference</li> <li>Dry run logs \u2014 Automatically expire after 5 days to save storage</li> </ul> <p>Viewing Historical Executions</p> <p>Use the execution dropdown to navigate through previous operations. Each execution shows the timestamp and action (e.g., \"sync\", \"execute\") to help identify the operation you're looking for.</p>"},{"location":"operations/activity/overview/","title":"Overview","text":""},{"location":"operations/activity/overview/#activity","title":"Activity","text":"<p>The Activity interface provides visibility into entity history, operations, and changes in InfraKitchen. Every entity has an Activity view accessible via the Activity button, offering three complementary perspectives on what happened, who did it, and how the entity evolved.</p>"},{"location":"operations/activity/overview/#activity-views","title":"\ud83d\udcca Activity Views","text":"<p>The Activity tab combines three distinct but interconnected views:</p> View Purpose Availability Audit Track user actions and events All entities Logs View operation output in real-time Entities that execute operations Revisions Compare configuration changes over time Entities with versioned configuration"},{"location":"operations/activity/overview/#accessing-activity","title":"\ud83d\udd0d Accessing Activity","text":"<p>From any entity:</p> <ol> <li>Navigate to the entity (resource, template, integration, etc.)</li> <li>Click the Activity button</li> <li>Select the desired tab (Audit, Logs, or Revisions)</li> </ol> <p>Global audit log:</p> <ul> <li>Navigate to Administration \u2192 Audit Log for system-wide visibility</li> </ul>"},{"location":"operations/activity/revisions/","title":"Revision History","text":""},{"location":"operations/activity/revisions/#revisions","title":"Revisions","text":"<p>Revisions track the configuration history of entities over time. Every time you modify an entity, InfraKitchen creates a new revision, allowing you to view changes and compare configurations.</p>"},{"location":"operations/activity/revisions/#overview","title":"\ud83d\udcdd Overview","text":"<p>A revision is a snapshot of an entity's configuration at a specific point in time. Revisions are automatically created whenever you update an entity, providing complete change history without manual intervention.</p> <p>Automatic Creation</p> <p>Revisions are created automatically on every entity update. If no changes are detected (identical configuration), no new revision is created to avoid clutter.</p>"},{"location":"operations/activity/revisions/#viewing-revisions","title":"\ud83d\udc41\ufe0f Viewing Revisions","text":"<p>Access revisions for an entity:</p> <ol> <li>Navigate to the entity</li> <li>Click the Activity button</li> <li>Select the Revisions tab</li> <li>View the revision history and compare versions</li> </ol>"},{"location":"operations/activity/revisions/#revision-interface","title":"\ud83d\udcca Revision Interface","text":"<p>The revisions interface has three main sections:</p>"},{"location":"operations/activity/revisions/#1-revision-list","title":"1. Revision List","text":"<p>Displays all revisions for the entity:</p> Info Description Version Revision number (e.g., v1, v2, v3) Timestamp When the revision was created Name Optional human-readable name (from entity name field) Description Optional description (from entity description field) <p>Revisions are listed in descending order (newest first).</p>"},{"location":"operations/activity/revisions/#2-compare-section","title":"2. Compare Section","text":"<p>Select two revisions to compare:</p> <ul> <li>Left revision dropdown \u2014 Choose the older/base version</li> <li>Right revision dropdown \u2014 Choose the newer/modified version</li> <li>Defaults to comparing the two most recent revisions</li> </ul>"},{"location":"operations/activity/revisions/#3-diff-viewer","title":"3. Diff Viewer","text":"<p>Diff viewer showing:</p> <ul> <li>Highlighted changes \u2014 Additions, deletions, and modifications</li> <li>Line numbers \u2014 For precise change identification</li> <li>JSON formatting \u2014 Pretty-printed for readability</li> </ul>"},{"location":"operations/activity/revisions/#comparing-revisions","title":"\ud83d\udd0d Comparing Revisions","text":"<p>The diff viewer highlights changes between revisions:</p> <ul> <li>Green \u2014 Added fields or modified values (new state)</li> <li>Red \u2014 Removed fields or previous values (old state)</li> <li>White \u2014 Unchanged fields</li> </ul> <p>Understanding Changes</p> <p>The diff viewer shows the complete JSON structure. Look for highlighted lines to quickly identify what changed between revisions. Nested objects are expanded for full visibility.</p>"},{"location":"secrets/overview/","title":"Overview","text":""},{"location":"secrets/overview/#secrets","title":"Secrets","text":"<p>Secrets in InfraKitchen provide a secure way to manage sensitive configuration data required by your infrastructure resources. They enable safe storage and retrieval of credentials, API keys, and other sensitive values needed during resource provisioning.</p>"},{"location":"secrets/overview/#what-are-secrets","title":"\ud83c\udfaf What are Secrets?","text":"<p>A Secret in InfraKitchen is a secure storage mechanism that contains:</p> <ul> <li>Sensitive configuration values (passwords, API keys, tokens)</li> <li>Cloud provider secrets (AWS Secrets Manager, GCP Secret Manager)</li> <li>Custom key-value pairs for application configuration</li> <li>Provider-specific settings (regions, resource groups, account names)</li> </ul> <p>All secret values are encrypted at rest using industry-standard encryption and are decrypted only when needed during resource provisioning.</p>"},{"location":"secrets/overview/#secret-properties","title":"\ud83d\udd0d Secret Properties","text":"<p>All secrets share common properties:</p> Property Description Required Name Human-readable identifier \u2705 Secret Type Type of secret (currently only <code>tofu</code> supported) \u2705 Secret Provider Provider (AWS, GCP, Custom) \u2705 Configuration Provider-specific settings \u2705 Integration Associated cloud integration (if applicable) \u274c Description Purpose and usage notes \u274c Labels Tags for categorization and filtering \u274c"},{"location":"secrets/overview/#secret-providers","title":"\ud83d\udce6 Secret Providers","text":"<p>InfraKitchen supports multiple secret storage providers:</p>"},{"location":"secrets/overview/#cloud-native-providers","title":"Cloud-Native Providers","text":"Provider Description Use Case AWS AWS Secrets Manager Store secrets in AWS for resources deployed to AWS GCP GCP Secret Manager Store secrets in GCP for GCP-deployed resources"},{"location":"secrets/overview/#custom-provider","title":"Custom Provider","text":"Provider Description Use Case Custom InfraKitchen-managed key-value pairs Store arbitrary secrets encrypted within InfraKitchen"},{"location":"secrets/overview/#how-secrets-work","title":"\ud83d\udd10 How Secrets Work","text":""},{"location":"secrets/overview/#creation-flow","title":"Creation Flow","text":"<ol> <li>Create Secret \u2192 Choose provider and configure settings</li> <li>Encryption \u2192 Values are encrypted using your encryption key</li> <li>Storage \u2192 Encrypted data is stored in InfraKitchen database</li> <li>Reference \u2192 Resources reference secrets in their configuration</li> </ol>"},{"location":"secrets/overview/#usage-flow","title":"Usage Flow","text":"<ol> <li>Resource Provisioning \u2192 Resource references a secret</li> <li>Authentication \u2192 InfraKitchen authenticates to secret provider (if cloud-based)</li> <li>Retrieval \u2192 Secret values are fetched and decrypted</li> <li>Injection \u2192 Values are injected into Terraform/OpenTofu as variables (setup variables with TF_VAR_ prefix)</li> <li>Cleanup \u2192 Decrypted values exist only in memory during execution</li> </ol>"},{"location":"secrets/overview/#managing-secrets","title":"\ud83d\udee0\ufe0f Managing Secrets","text":""},{"location":"secrets/overview/#create","title":"Create","text":"<p>Only platform engineers can create secrets:</p> <ol> <li>Navigate to Secrets page</li> <li>Click \"Create Secret\"</li> <li>Select secret provider (AWS, GCP, or Custom)</li> <li>Fill in required configuration fields</li> <li>(Optional) Link to a cloud integration</li> <li>Add labels for organization</li> <li>Validate and save</li> </ol>"},{"location":"secrets/overview/#update","title":"Update","text":"<p>Secrets can be updated to modify values or configuration:</p> <ol> <li>Edit existing secret</li> <li>Update description or labels</li> <li>Modify configuration (provider-dependent)</li> <li>Save changes</li> <li>Resources will use updated values on next provision</li> </ol> <p>Provider and Type Cannot Change</p> <p>The <code>secret_provider</code> and <code>secret_type</code> fields are immutable after creation. To change providers, create a new secret.</p>"},{"location":"secrets/overview/#delete","title":"Delete","text":"<p>\u26a0\ufe0f Warning: Deleting a secret will prevent resources using it from being provisioned.</p> <p>Before deletion:</p> <ul> <li>Ensure no resources reference it</li> <li>Update or destroy dependent resources</li> <li>Document the change</li> <li>Consider disabling instead of deleting</li> </ul>"},{"location":"secrets/overview/#disableenable","title":"Disable/Enable","text":"<p>Secrets can be disabled without deletion:</p> <ul> <li>Disabled secrets cannot be used by new resource provisions</li> <li>Existing resources retain their configuration</li> <li>Can be re-enabled at any time</li> </ul>"},{"location":"secrets/overview/#provider-specific-guides","title":"\ud83d\udcda Provider-Specific Guides","text":""},{"location":"secrets/overview/#cloud-provider-secrets","title":"Cloud Provider Secrets","text":"<ul> <li>AWS Secrets Manager - AWS Secrets Manager integration</li> <li>GCP Secret Manager - GCP Secret Manager configuration</li> </ul>"},{"location":"secrets/overview/#custom-secrets","title":"Custom Secrets","text":"<ul> <li>Custom Secrets - InfraKitchen-managed key-value pairs</li> </ul>"},{"location":"secrets/overview/#troubleshooting","title":"\ud83c\udd98 Troubleshooting","text":"<p>Common issues and solutions:</p> Issue Possible Cause Solution Cannot create secret Missing permissions Verify platform engineer role Secret not found during provision Name mismatch Check secret name matches resource reference Cloud provider secret fails Invalid integration Verify integration credentials and permissions Encryption error Missing encryption key Configure <code>ENCRYPTION_KEY</code> environment variable"},{"location":"secrets/providers/aws/","title":"AWS Secrets Manager","text":""},{"location":"secrets/providers/aws/#aws-secrets-manager","title":"AWS Secrets Manager","text":"<p>Follow these steps to create and configure an AWS Secrets Manager secret in InfraKitchen. This allows your resources to securely retrieve secrets stored in AWS Secrets Manager.</p>"},{"location":"secrets/providers/aws/#1-prerequisites","title":"1\ufe0f\u20e3 Prerequisites","text":"<p>Before creating an AWS secret in InfraKitchen:</p> <ol> <li>AWS Integration - Create an AWS integration with appropriate permissions (optional but recommended)</li> <li>AWS Secrets Manager Access - Ensure the integration has permissions to access Secrets Manager</li> <li>Secret Created in AWS - Create the actual secret in AWS Secrets Manager first</li> </ol>"},{"location":"secrets/providers/aws/#2-required-iam-permissions","title":"2\ufe0f\u20e3 Required IAM Permissions","text":"<p>The AWS integration user or role must have these permissions:</p> JSON<pre><code>{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"secretsmanager:GetSecretValue\",\n        \"secretsmanager:DescribeSecret\"\n      ],\n      \"Resource\": \"arn:aws:secretsmanager:REGION:ACCOUNT_ID:secret:SECRET_NAME*\"\n    }\n  ]\n}\n</code></pre> <p>For broader access, you can use:</p> JSON<pre><code>{\n  \"Effect\": \"Allow\",\n  \"Action\": [\n    \"secretsmanager:GetSecretValue\",\n    \"secretsmanager:DescribeSecret\",\n    \"secretsmanager:ListSecrets\"\n  ],\n  \"Resource\": \"*\"\n}\n</code></pre>"},{"location":"secrets/providers/aws/#3-configure-secret-in-infrakitchen","title":"3\ufe0f\u20e3  Configure Secret in InfraKitchen","text":"<p>Navigate to InfraKitchen: <code>/secrets/create</code></p>"},{"location":"secrets/providers/aws/#required-configuration","title":"Required Configuration","text":"Field Description Example Name Unique identifier in InfraKitchen <code>prod-database-credentials</code> Integration Link to AWS integration Select your AWS integration Secret Type Type of secret <code>tofu</code> (only option currently) Secret Provider Cloud provider <code>aws</code> Secret Name Exact name of secret in AWS Secrets Manager <code>my-secret</code> AWS Region AWS region where secret is stored <code>us-east-1</code>, <code>eu-west-1</code>"},{"location":"secrets/providers/aws/#optional-configuration","title":"Optional Configuration","text":"Field Description Example Description Purpose and usage notes <code>Production database credentials for main app</code> Labels Tags for organization <code>production</code>, <code>database</code>, <code>critical</code>"},{"location":"secrets/providers/aws/#troubleshooting","title":"\ud83d\udc1b Troubleshooting","text":""},{"location":"secrets/providers/aws/#common-issues","title":"Common Issues","text":"Issue Cause Solution Secret not found Name mismatch Verify exact secret name in AWS Access denied Missing IAM permissions Add <code>secretsmanager:GetSecretValue</code> permission Wrong region Secret in different region Update <code>aws_region</code> to match secret location Integration failed Invalid AWS credentials Verify AWS integration is working KMS permission error Cannot decrypt secret Add KMS decrypt permissions to IAM policy"},{"location":"secrets/providers/aws/#additional-resources","title":"\ud83d\udcda Additional Resources","text":"<ul> <li>AWS Secrets Manager Documentation</li> <li>IAM Permissions for Secrets Manager</li> <li>Rotating Secrets</li> <li>AWS Integration Guide</li> </ul>"},{"location":"secrets/providers/custom/","title":"Custom Secrets","text":""},{"location":"secrets/providers/custom/#custom-secrets","title":"Custom Secrets","text":"<p>Custom secrets in InfraKitchen allow you to store arbitrary key-value pairs encrypted within the InfraKitchen database. This is ideal for secrets that don't need to be stored in cloud provider secret managers.</p>"},{"location":"secrets/providers/custom/#when-to-use-custom-secrets","title":"\ud83c\udfaf When to Use Custom Secrets","text":"<p>Use custom secrets when:</p> <ul> <li>\u2705 You don't have cloud provider integrations set up</li> <li>\u2705 Secrets are specific to InfraKitchen and not shared with other systems</li> <li>\u2705 You want centralized secret management within InfraKitchen</li> <li>\u2705 You need quick, simple secret storage without external dependencies</li> <li>\u2705 You're in a development or testing environment</li> </ul> <p>Don't use custom secrets when:</p> <ul> <li>\u274c You need secret rotation from external systems</li> <li>\u274c You need to share secrets across multiple systems</li> </ul>"},{"location":"secrets/providers/custom/#security-model","title":"\ud83d\udd10 Security Model","text":""},{"location":"secrets/providers/custom/#encryption","title":"Encryption","text":"<ul> <li>All secret values are encrypted at rest using AES-256 encryption</li> <li>Encryption key is configured via the <code>ENCRYPTION_KEY</code> environment variable</li> <li>Decryption happens only in-memory during resource provisioning</li> <li>Encrypted values are never logged or exposed in the UI</li> </ul>"},{"location":"secrets/providers/custom/#access-control","title":"Access Control","text":"<ul> <li>Only platform engineers can create/modify secrets</li> <li>RBAC enforced at the application level</li> <li>Audit logs track all secret operations</li> <li>Secret values are never returned in API responses</li> </ul>"},{"location":"secrets/providers/custom/#creating-custom-secrets","title":"\ud83d\udcdd Creating Custom Secrets","text":"<p>Navigate to InfraKitchen: <code>/secrets/create</code></p>"},{"location":"secrets/providers/custom/#required-configuration","title":"Required Configuration","text":"Field Description Example Name Unique identifier in InfraKitchen <code>app-database-credentials</code> Secret Type Type of secret <code>tofu</code> (only option currently) Secret Provider Provider type <code>custom</code> Secrets Array of key-value pairs See examples below"},{"location":"secrets/providers/custom/#secret-structure","title":"Secret Structure","text":"<p>Each custom secret contains an array of key-value pairs:</p> YAML<pre><code>name: my-custom-secret\nsecret_type: tofu\nsecret_provider: custom\nconfiguration:\n  secrets:\n    - name: DATABASE_URL\n      value: postgresql://user:pass@host:5432/db\n    - name: API_KEY\n      value: abc123xyz789\n    - name: ENCRYPTION_KEY\n      value: super-secret-key-here\n  secret_provider: custom\n</code></pre>"},{"location":"secrets/providers/custom/#optional-configuration","title":"Optional Configuration","text":"Field Description Example Description Purpose and usage notes <code>Application configuration secrets</code> Labels Tags for organization <code>development</code>, <code>database</code>, <code>api</code>"},{"location":"secrets/providers/custom/#managing-custom-secrets","title":"\ud83d\udee0\ufe0f Managing Custom Secrets","text":""},{"location":"secrets/providers/custom/#create","title":"Create","text":"<ol> <li>Navigate to Secrets \u2192 Create</li> <li>Select Custom as secret provider</li> <li>Add key-value pairs:</li> <li>Click \"Add Secret\"</li> <li>Enter Name (key)</li> <li>Enter Value (will be encrypted)</li> <li>Repeat for additional secrets</li> <li>Add description and labels</li> <li>Save</li> </ol>"},{"location":"secrets/providers/custom/#update","title":"Update","text":"<p>To update custom secret values:</p> <ol> <li>Edit the existing secret</li> <li>Modify the configuration:</li> <li>Update existing key-value pairs</li> <li>Add new pairs</li> <li>Remove unwanted pairs</li> <li>Save changes</li> </ol>"},{"location":"secrets/providers/custom/#delete","title":"Delete","text":"<p>Before deleting:</p> <ol> <li>Verify no resources reference the secret</li> <li>Update or destroy dependent resources</li> </ol>"},{"location":"secrets/providers/custom/#how-it-works","title":"How It Works","text":"<p>During resource provisioning:</p> <ol> <li>Reference Resolution - InfraKitchen identifies referenced secrets</li> <li>Decryption - Secret values are decrypted in-memory</li> <li>Variable Injection - Secrets are passed to Terraform/OpenTofu as variables (with <code>TF_VAR_</code> prefix)</li> <li>Provisioning - Infrastructure is created with secret values</li> <li>Cleanup - Decrypted values are cleared from memory</li> </ol> <p>Variable Naming</p> <p>Ensure that the variable names in your Terraform/OpenTofu code match the secret keys defined in the custom secret.</p>"},{"location":"secrets/providers/custom/#terraformopentofu-integration","title":"Terraform/OpenTofu Integration","text":"<p>Custom secrets are made available as Terraform variables:</p> Terraform<pre><code># Terraform automatically receives these as variables\nvariable \"db_host\" {\n  type      = string\n  sensitive = true\n}\n\nvariable \"db_password\" {\n  type      = string\n  sensitive = true\n}\n\n# Use in resources\nresource \"kubernetes_secret\" \"db_credentials\" {\n  metadata {\n    name = \"db-credentials\"\n  }\n\n  data = {\n    host     = var.db_host\n    password = var.db_password\n  }\n}\n</code></pre>"},{"location":"secrets/providers/gcp/","title":"GCP Secret Manager","text":""},{"location":"secrets/providers/gcp/#gcp-secret-manager","title":"GCP Secret Manager","text":"<p>Follow these steps to create and configure a GCP Secret Manager secret in InfraKitchen. This allows your resources to securely retrieve secrets stored in Google Cloud Secret Manager.</p>"},{"location":"secrets/providers/gcp/#1-prerequisites","title":"1\ufe0f\u20e3 Prerequisites","text":"<p>Before creating a GCP secret in InfraKitchen:</p> <ol> <li>GCP Integration - Create a GCP integration with appropriate permissions</li> <li>Secret Manager API - Enable the Secret Manager API in your GCP project</li> <li>Service Account - Ensure the service account has secret access permissions</li> <li>Secret Created in GCP - Create the actual secret in GCP Secret Manager first</li> </ol>"},{"location":"secrets/providers/gcp/#2-required-iam-permissions","title":"2\ufe0f\u20e3  Required IAM Permissions","text":"<p>The GCP service account used by the integration must have these roles:</p>"},{"location":"secrets/providers/gcp/#secret-manager-roles","title":"Secret Manager Roles","text":"<ul> <li>Secret Manager Secret Accessor (<code>roles/secretmanager.secretAccessor</code>) - To read secret values</li> <li>Secret Manager Viewer (<code>roles/secretmanager.viewer</code>) - To list and view secret metadata</li> </ul>"},{"location":"secrets/providers/gcp/#3-configure-secret-in-infrakitchen","title":"3\ufe0f\u20e3 Configure Secret in InfraKitchen","text":"<p>Navigate to InfraKitchen: <code>/secrets/create</code></p>"},{"location":"secrets/providers/gcp/#required-configuration","title":"Required Configuration","text":"Field Description Example Name Unique identifier in InfraKitchen <code>prod-gcp-database-creds</code> Secret Type Type of secret <code>tofu</code> (only option currently) Integration Link to GCP integration Select your GCP integration Secret Provider Cloud provider <code>gcp</code> Secret Name Exact name of secret in GCP Secret Manager <code>infrakitchen-production-database</code>"},{"location":"secrets/providers/gcp/#optional-configuration","title":"Optional Configuration","text":"Field Description Example GCP Region Specific region (if using user-managed replication) <code>us-central1</code>, <code>europe-west1</code> Description Purpose and usage notes <code>Production database credentials</code> Labels Tags for organization <code>production</code>, <code>database</code>, <code>critical</code> <p>Region Parameter</p> <p>The <code>gcp_region</code> field is optional. If not specified, GCP will use the automatic replication policy. Set it only if you need to access a secret from a specific region with user-managed replication.</p>"},{"location":"secrets/providers/gcp/#troubleshooting","title":"\ud83d\udc1b Troubleshooting","text":""},{"location":"secrets/providers/gcp/#common-issues","title":"Common Issues","text":"Issue Cause Solution Permission denied Missing IAM role Grant <code>secretmanager.secretAccessor</code> role Secret not found Wrong project or name Verify project ID and secret name match API not enabled Secret Manager API disabled Enable <code>secretmanager.googleapis.com</code> API Region mismatch Wrong region specified Check secret replication configuration Version not found All versions disabled Enable at least one secret version"},{"location":"secrets/providers/gcp/#additional-resources","title":"\ud83d\udcda Additional Resources","text":"<ul> <li>GCP Secret Manager Documentation</li> <li>Secret Manager IAM Permissions</li> <li>GCP Integration Guide</li> </ul>"}]}